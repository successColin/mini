(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/socialContact/myPosts/addVideopost"],{2613:function(t,e,i){"use strict";i.r(e);var n=i("26d9"),o=i("d8d2");for(var s in o)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);i("b298");var a=i("f0c5"),u=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=u.exports},"26d9":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={"u-Input":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--input/u--input")]).then(i.bind(null,"e709"))},uDivider:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(i.bind(null,"4e62"))},"u-Textarea":function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(i.bind(null,"a746"))},uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"f23e"))},uToast:function(){return i.e("uni_modules/uview-ui/components/u-toast/u-toast").then(i.bind(null,"4bf8"))},uLoadingPage:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(i.bind(null,"fbb6"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},"6ad5":function(t,e,i){},"9da1":function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4319");n(i("66fd"));var o=n(i("2613"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(o.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},b298:function(t,e,i){"use strict";var n=i("6ad5"),o=i.n(n);o.a},c6e9:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2eee")),s=n(i("c973")),a={components:{cardauthentication:function(){i.e("components/cardauthentication").then(function(){return resolve(i("a4fb"))}.bind(null,i)).catch(i.oe)}},data:function(){return{shoptitle:"",shopid:"",showpop:!1,activityid:null,activitytitle:"",groupid:null,grouptitle:"",type:null,isshow:!0,istrue:!0,showload:!1,dataList:{title:"",content:"",showType:"1",imgs:[],isInsertVote:0,votesTitle:"",duration:""},fileList1:[]}},onLoad:function(){var e=this,i=this.getOpenerEventChannel();i.on("sendinfo",(function(t){e.fileList1.push({url:t.data,status:"success",message:""})})),t.$on("closepop",(function(t){e.showpop=!1})),t.$on("choosegroup",(function(t){e.type=1,e.grouptitle=t.title,e.groupid=t.id,e.isshow=!1})),t.$on("chooseactivity",(function(t){console.log(t),e.type=2,e.activitytitle=t.title,e.activityid=t.activityId,e.isshow=!1})),t.$on("chooseshop",(function(t){e.type=3,e.shoptitle=t.baseName,e.shopid=t.id,e.isshow=!1}))},onShow:function(){},methods:{OnPushshopList:function(){t.navigateTo({url:"/pages/socialContact/myPosts/shoplist"})},OnAgain:function(){1==this.type?t.navigateTo({url:"/pages/socialContact/myPosts/groupList"}):3==this.type?t.navigateTo({url:"/pages/socialContact/myPosts/shoplist"}):t.navigateTo({url:"/pages/socialContact/myPosts/activityList"})},OnPushActivity:function(){t.navigateTo({url:"/pages/socialContact/myPosts/activityList"})},OnPushGroup:function(){t.navigateTo({url:"/pages/socialContact/myPosts/groupList"})},save:function(){var e=this;1==this.type?(this.dataList.citeId=this.groupid,this.dataList.citeType=1):2==this.type?(this.dataList.citeId=this.activityid,this.dataList.citeType=2):3==this.type&&(this.dataList.citeShopId=this.shopid),this.showload=!0,this.dataList.video=this.fileList1[0].url,this.$request.post("/coc-social/api/v1/article/addArticle",this.dataList).then((function(i){200==i.code?(e.showload=!1,e.$refs.uToast.show({message:"发布成功",type:"success",complete:function(){t.redirectTo({url:"/pages/activity/activityRegistration/playfulperson?"})}})):(e.showload=!1,e.$refs.uToast.show({message:i.message,type:"error"}))}))},OnSend:function(){return 1!=t.getStorageSync("isCertify")?(this.showpop=!0,!1):this.dataList.title?void this.save():(this.$refs.uToast.show({message:"请填写标题"}),!1)},OnChoose:function(t){this.dataList.showType=t},deletePic:function(t){this["fileList".concat(t.name)].splice(t.index,1)},afterRead:function(t){var e=this;return(0,s.default)(o.default.mark((function i(){var n;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=[].concat(t.file),n.map((function(t,i){e.fileList1.push({url:t.url,status:"success",message:""})}));case 2:case"end":return i.stop()}}),i)})))()}}};e.default=a}).call(this,i("543d")["default"])},d8d2:function(t,e,i){"use strict";i.r(e);var n=i("c6e9"),o=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=o.a}},[["9da1","common/runtime","common/vendor"]]]);