(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myEarnings/requestInvoicing"],{"15f0":function(n,e,o){"use strict";o.r(e);var t=o("9d5f"),i=o("a183");for(var u in i)["default"].indexOf(u)<0&&function(n){o.d(e,n,(function(){return i[n]}))}(u);o("71ff");var r=o("f0c5"),c=Object(r["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);e["default"]=c.exports},"71ff":function(n,e,o){"use strict";var t=o("f31f"),i=o.n(t);i.a},"9d5f":function(n,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return t}));var t={uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"f23e"))},"u-Form":function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u--form/u--form")]).then(o.bind(null,"4b8f"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"4019"))},"u-Input":function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u--input/u--input")]).then(o.bind(null,"e709"))},uCheckboxGroup:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(o.bind(null,"b691"))},uCheckbox:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-checkbox/u-checkbox")]).then(o.bind(null,"234e"))}},i=function(){var n=this.$createElement;this._self._c},u=[]},a183:function(n,e,o){"use strict";o.r(e);var t=o("ad6b"),i=o.n(t);for(var u in t)["default"].indexOf(u)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(u);e["default"]=i.a},ad6b:function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{formData:{invoiceOptions:"1",invoiceHeader:n.getStorageSync("realName"),invoiceEmail:""},invoicingAmount:0,notes:"",invoiceOptions:"1",checkboxValue1:[],orderCommissions:[],orderId:"",rules:{invoiceEmail:[{type:"string",required:!0,message:"请填写接收邮箱",trigger:["blur","change"]},{validator:function(e,o,t){return n.$u.test.email(o)},message:"请填写正确邮箱",trigger:["change","blur"]}]}}},onReady:function(){this.$refs.uForm.setRules(this.rules)},onLoad:function(n){},onShow:function(){this.getInfo()},methods:{getInfo:function(){var e=this;this.$request.post("/coc-active/api/v1/newExpert/expertInvoicing/show").then((function(n){e.invoicingAmount=n.data.invoiceAmount,e.notes=n.data.notes,e.orderCommissions=n.data.orderCommissions})),this.$request.post("/coc-active/api/v1/newExpert/expertInvoicingInfo/show").then((function(o){null==o.data?e.formData={invoiceOptions:"1",dutyParagraph:"",invoiceHeader:n.getStorageSync("realName"),invoiceEmail:""}:e.formData=o.data}))},OnChangecheckboxValue1:function(n){},setInfo:function(){console.log(this.formData),this.$request.post("/coc-active/api/v1/newExpert/expertInvoicingInfo/add",this.formData).then((function(n){}))},Onsubmit:function(){var e=this;this.invoicingAmount>50?this.$refs.uForm.validate().then((function(o){var t=Object.assign({},e.formData);t.type=1,t.notes=e.notes?e.notes:"suib",t.invoicingAmount=e.invoicingAmount,t.orderCommissions=e.orderCommissions,e.$request.post("/coc-active/api/v1/newExpert/expertInvoicing/add",t).then((function(o){200==o.code?(n.$u.toast("已提交，等待审核"),e.checkboxValue1.length&&e.setInfo(),setTimeout((function(){n.redirectTo({url:"/pages/myEarnings/invoicingRecords"})}),1500)):n.$u.toast(o.message)}))})).catch((function(e){n.$u.toast("请完善必填资料")})):n.$u.toast("开票金额不足")},OnChangeradio:function(n){this.formData.invoiceOptions=n},lookRecords:function(){n.navigateTo({url:"/pages/myEarnings/invoicingRecords"})}}};e.default=o}).call(this,o("543d")["default"])},bbf6:function(n,e,o){"use strict";(function(n,e){var t=o("4ea4");o("4319");t(o("66fd"));var i=t(o("15f0"));n.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},f31f:function(n,e,o){}},[["bbf6","common/runtime","common/vendor"]]]);