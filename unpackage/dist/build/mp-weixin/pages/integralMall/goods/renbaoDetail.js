require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/integralMall/goods/renbaoDetail"],{1194:function(e,n,t){"use strict";var i=t("b1b6"),o=t.n(i);o.a},4425:function(e,n,t){"use strict";t.r(n);var i=t("75f7"),o=t.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(r);n["default"]=o.a},"75f7":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={components:{carousel:function(){Promise.all([t.e("common/vendor"),t.e("components/carousel/index")]).then(function(){return resolve(t("7662"))}.bind(null,t)).catch(t.oe)}},computed:{scrollHeight:function(){return"calc(100vh - 96rpx - 30rpx)"}},onLoad:function(e){this.params={orderNo:e.orderNo?e.orderNo:"",cuponNo:e.cuponNo?e.cuponNo:"",orderOrg:e.orderOrg?e.orderOrg:"",virtualGiftCode:e.virtualGiftCode?e.virtualGiftCode:"",merchantUserName:e.merchantUserName?e.merchantUserName:"",source:e.source?e.source:"",currentTime:e.currentTime?e.currentTime:""},this.queryDetail()},data:function(){return{params:{orderNo:"",cuponNo:"",orderOrg:"",virtualGiftCode:"",merchantUserName:"",source:"",currentTime:""},banner:[],selType:1,detail:{},isshowpage:!1,autoPlay:!0,confirmVisble:!1,isSubmit:!1,totalNum:5,curNum:0,isConfirm:!1}},methods:{clickType:function(e){this.selType=e},queryDetail:function(){var n=this;this.isshowpage||this.$showLoading(),this.$newrequest.post("/coc-active/api/v1/life_insurance/orderDetails",this.params).then((function(t){if(200==t.code){var i=t.data,o=[];i.images&&i.images.length>0&&i.images.forEach((function(e){o.push({url:e,type:"image"})})),n.banner=o,n.detail=i,i.scoreOrderId?e.redirectTo({url:"/pages/integralMall/order/renbaoDetail?orderid="+i.scoreOrderId}):n.isConfirm&&n.execTimer(1e3)}else e.showToast({title:t.message,icon:"none",duration:2e3})})).finally((function(){n.isshowpage||(n.isshowpage=!0,n.$hideLoading())}))},openConfirm:function(){1!=this.detail.isExchange?this.confirmVisble=!0:e.showToast({title:"已领取",icon:"none",duration:2e3})},closeConfirm:function(){this.confirmVisble=!1},submitOrder:function(){var n=this;if(!this.isSubmit)if(1!=this.detail.isExchange){this.isSubmit=!0;var t=Object.assign({},this.detail.orderDetailsDTO);t.name=this.detail.name,this.$newrequest.post("/coc-active/api/v1/life_insurance/exchange",t).then((function(t){200==t.code?(n.closeConfirm(),e.showToast({title:"领取成功",icon:"none",duration:3e3,mask:!0,success:function(){n.isConfirm=!0,setTimeout((function(){n.curNum=0,n.execTimer(0)}),3e3)}})):e.showToast({title:t.message,icon:"none",duration:2e3})})).finally((function(e){n.isSubmit=!1}))}else e.showToast({title:"已领取",icon:"none",duration:2e3})},execTimer:function(e){var n=this;this.curNum++,this.curNum<=this.totalNum&&setTimeout((function(){n.queryDetail()}),e)}}};n.default=i}).call(this,t("543d")["default"])},"9d1d":function(e,n,t){"use strict";t.r(n);var i=t("f545"),o=t("4425");for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t("1194");var a=t("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"91e64310",null,!1,i["a"],void 0);n["default"]=s.exports},b1b6:function(e,n,t){},e91a:function(e,n,t){"use strict";(function(e,n){var i=t("4ea4");t("76b1");i(t("66fd"));var o=i(t("9d1d"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},f545:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return i}));var i={uParse:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-parse/u-parse")]).then(t.bind(null,"b3af"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"8add"))}},o=function(){var e=this.$createElement,n=(this._self._c,this.isshowpage?this.banner.length:null);this.$mp.data=Object.assign({},{$root:{g0:n}})},r=[]}},[["e91a","common/runtime","common/vendor"]]]);