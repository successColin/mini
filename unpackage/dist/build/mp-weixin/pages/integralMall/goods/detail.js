require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/integralMall/goods/detail"],{"032f":function(e,n,t){"use strict";t.r(n);var i=t("972d"),a=t("46ea");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("9af0");var u=t("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"3695ee87",null,!1,i["a"],void 0);n["default"]=r.exports},"46ea":function(e,n,t){"use strict";t.r(n);var i=t("ffb2"),a=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},"867d":function(e,n,t){"use strict";(function(e,n){var i=t("4ea4");t("76b1");i(t("66fd"));var a=i(t("032f"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(a.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"972d":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"6d3c"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"0f14"))},uAvatar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(t.bind(null,"d838"))},uParse:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-parse/u-parse")]).then(t.bind(null,"b3af"))}},a=function(){var e=this.$createElement,n=(this._self._c,this.isshowpage?this.banner.length:null);this.$mp.data=Object.assign({},{$root:{g0:n}})},o=[]},"9af0":function(e,n,t){"use strict";var i=t("ae6e"),a=t.n(i);a.a},ae6e:function(e,n,t){},ffb2:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("04ff"),a={onShareAppMessage:function(e){return{title:this.detail.name,path:"/pages/integralMall/goods/detail?id="+this.id+"&enter=117",imageUrl:this.detail.titleImg}},onShareTimeline:function(e){return{title:this.detail.name,path:"/pages/integralMall/goods/detail?id="+this.id+"&enter=117",imageUrl:this.detail.titleImg}},components:{carousel:function(){Promise.all([t.e("common/vendor"),t.e("components/carousel/index")]).then(function(){return resolve(t("7662"))}.bind(null,t)).catch(t.oe)}},computed:{navbarHeight:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").contentTop:0},menuHeight:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").menuHeight:0},menuTop:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").menuTop-this.statusBarHeight:0},statusBarHeight:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").statusBarHeight:0},scrollHeight:function(){return"calc(100vh - 96rpx - ".concat(this.safeHeight,"px)")}},onLoad:function(n){n.enter&&e.setStorageSync("enter",n.enter),this.id=n.id,this.queryDetail(n.id)},onReady:function(){var n=this;e.createSelectorQuery().in(this).select(".safe-bottom-height").boundingClientRect((function(e){n.safeHeight=e.height})).exec()},data:function(){return{id:"",banner:[],safeHeight:0,selType:1,detail:{},isshowpage:!1,autoPlay:!1}},methods:{jumpShopDetail:function(n){e.navigateTo({url:"/pages/activityMall/business/index?id="+this.detail.shopId})},goback:function(){var n=getCurrentPages();n.length>1?e.navigateBack():e.switchTab({url:"/pages/home/index"})},clickType:function(e){this.selType=e},queryDetail:function(n){var t=this;this.isshowpage||this.$showLoading(),this.$newrequest.get("/coc-active/api/v2/score/shop/product/detail/"+n).then((function(n){if(200==n.code){var i=n.data,a=i.images.split(","),o=[];a&&a.length>0&&a.forEach((function(e){o.push({url:e,type:"image"})})),i.video?(o.unshift({url:i.video,type:"video"}),t.autoPlay=!1):t.autoPlay=!0,t.banner=o,t.detail=i}else e.showToast({title:n.message,icon:"none",duration:2e3})})).finally((function(){t.isshowpage||(t.isshowpage=!0,t.$hideLoading())}))},submitOrder:function(){!0===(0,i.tologin)()&&e.navigateTo({url:"/pages/integralMall/order/submit?id="+this.id})}}};n.default=a}).call(this,t("543d")["default"])}},[["867d","common/runtime","common/vendor"]]]);