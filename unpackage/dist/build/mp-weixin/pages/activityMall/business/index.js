(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activityMall/business/index"],{"0657":function(e,t,n){"use strict";n.r(t);var i=n("1029"),a=n("5f59");for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("b74c");var s=n("f0c5"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=u.exports},"0cb1":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={components:{carousel:function(){Promise.all([n.e("common/vendor"),n.e("components/carousel/index")]).then(function(){return resolve(n("c969"))}.bind(null,n)).catch(n.oe)}},data:function(){return{tabsindex:0,tags:[],newtags:[],ispreview:0,shopId:"",dataList:{},imgList:[],isShowpage:!1,isClick:!1,preActive:0,isshowreturn:!0}},onPageScroll:function(e){var t=e.scrollTop;this.scrollTochang(t)},onLoad:function(t){e.setStorageSync("lat",t.lat),e.setStorageSync("lng",t.lng),this.shopId=t.id,this.getlist()},onReady:function(){var e=this;setTimeout((function(){e.getheight()}),500)},computed:{navbarHeight:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").contentTop:0},height:function(){return"calc(100vh - ".concat(this.navbarHeight,"px - 10px)")}},onShow:function(){},methods:{previewImg:function(){e.previewImage({urls:[this.dataList.baseCode]})},Onpushwonder:function(t){e.navigateTo({url:"/pages/home/wonderfulReview/detail?id="+t.id})},Onpushactivity:function(t){if(1==this.ispreview)return!1;e.navigateTo({url:"/pages/home/activityDetail/index?id="+t.id})},OnPushGroup:function(t){if(1==this.ispreview)return!1;e.navigateTo({url:"/pages/grouppurchase/detail?id="+t.id})},Onpushchant:function(t){if(1==this.ispreview)return!1;console.log(t),e.navigateTo({url:"/pages/grouppurchase/packagedetail?id="+t.id})},getheight:function(){var t=this;this.$nextTick((function(){[{name:"精选套餐",index:1},{name:"精选套餐",index:2},{name:"精选套餐",index:3},{name:"精选套餐",index:4}].forEach((function(n,i){var a=e.createSelectorQuery().in(t);a.select(".main"+i).boundingClientRect((function(e){1==n.index&&0!=e.height&&t.newtags.push({name:"精选套餐",scrollTop:e.top-120,index:0}),2==n.index&&0!=e.height&&t.newtags.push({name:"优惠团购",scrollTop:e.top-120,index:1}),3==n.index&&0!=e.height&&t.newtags.push({name:"活动报名",scrollTop:e.top-120,index:2}),4==n.index&&0!=e.height&&t.newtags.push({name:"主页",scrollTop:e.top-120,index:3})})).exec()}))}))},scrollTochang:function(e){if(this.isshowreturn=!(e>0),!this.isClick){var t=this.newtags.findIndex((function(t){return e<=t.scrollTop}));-1==t?t=this.newtags.length-1:0==t||(t=t),this.tabsindex=t}},goto:function(t){e.createSelectorQuery().select(t).boundingClientRect((function(t){e.createSelectorQuery().select(".u_contetns").boundingClientRect((function(n){e.pageScrollTo({duration:100,scrollTop:t.top+420-n.top})})).exec()})).exec()},Onclicktab:function(e,t){switch(this.isClick=!0,e.index){case 0:this.goto(".main0");break;case 1:this.goto(".main1");break;case 2:this.goto(".main2");break;case 3:this.goto(".main3");break}this.isClick=!1,this.tabsindex=t},openmap:function(){e.openLocation({latitude:this.dataList.lat,longitude:this.dataList.lng,success:function(){}})},telphone:function(){e.makePhoneCall({phoneNumber:this.dataList.baseMobile})},getlist:function(){var t=this;this.$showLoading(),this.$newrequest.post("coc-active/api/v1/activityShop/merchantHomepage",{shopId:this.shopId}).then((function(n){if(200==n.code){if(n.data.merchantDisplayVOS.length>0&&t.tags.push({name:"精选套餐",index:1}),n.data.groupDisplayVOS.length>0&&t.tags.push({name:"优惠团购",index:2}),n.data.activityDisplayVOS.length>0&&t.tags.push({name:"活动报名",index:3}),t.tags.push({name:"主页",index:4}),t.dataList=n.data,n.data.carouselUrl){var i=[];n.data.carouselUrl.forEach((function(e){1==e.shopCarouselType?i.push({url:e.carouselUrl,type:"image"}):i.push({url:e.carouselUrl,type:"video"})})),t.imgList=i}}else e.showToast({title:n.message,icon:"none",duration:2e3})})).finally((function(){t.isShowpage=!0,t.$hideLoading()}))}}};t.default=i}).call(this,n("543d")["default"])},1029:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"45e8"))},uRate:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-rate/u-rate")]).then(n.bind(null,"2b73"))},uDivider:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(n.bind(null,"4e62"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isShowpage?e.dataList.merchantDisplayVOS.length:null),i=e.isShowpage?e.dataList.groupDisplayVOS.length:null,a=e.isShowpage?e.dataList.activityDisplayVOS.length:null,o=e.isShowpage?e.dataList.marvellousVOS.length:null,s=e.isShowpage?e.__map(e.dataList.homePageDateVOS,(function(t,n){var i=e.__get_orig(t),a=2==t.type&&2==t.pictureType?t.associatedContent.split(","):null,o=2==t.type&&2==t.pictureType?t.associatedContent.split(","):null;return{$orig:i,g4:a,g5:o}})):null;e.$mp.data=Object.assign({},{$root:{g0:n,g1:i,g2:a,g3:o,l0:s}})},o=[]},"51e3":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("4319");i(n("66fd"));var a=i(n("0657"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"5f59":function(e,t,n){"use strict";n.r(t);var i=n("0cb1"),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},"8ac3":function(e,t,n){},b74c:function(e,t,n){"use strict";var i=n("8ac3"),a=n.n(i);a.a}},[["51e3","common/runtime","common/vendor"]]]);