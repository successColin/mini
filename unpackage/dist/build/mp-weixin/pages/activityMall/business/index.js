(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activityMall/business/index"],{"31c2":function(e,n,t){},"44c1":function(e,n,t){"use strict";var i=t("31c2"),a=t.n(i);a.a},"4c93":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={components:{carousel:function(){Promise.all([t.e("common/vendor"),t.e("components/carousel/index")]).then(function(){return resolve(t("7662"))}.bind(null,t)).catch(t.oe)},recommendX:function(){Promise.all([t.e("common/vendor"),t.e("components/darenRecommend/recommendX")]).then(function(){return resolve(t("9dd0"))}.bind(null,t)).catch(t.oe)}},data:function(){return{tabsindex:0,tags:[],newtags:[],ispreview:0,shopId:"",dataList:{},imgList:[],isShowpage:!1,isClick:!1,preActive:0,isshowreturn:!0,relatedType:null}},onPageScroll:function(e){var n=e.scrollTop;this.scrollTochang(n)},onLoad:function(e){this.shopId=e.id,this.relatedType=e.relatedType,this.getlist()},onReady:function(){var e=this;setTimeout((function(){e.getheight()}),500)},computed:{navbarHeight:function(){return e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").contentTop:0},height:function(){return"calc(100vh - ".concat(this.navbarHeight,"px - 10px)")}},onShow:function(){},methods:{previewImg:function(){e.previewImage({urls:[this.dataList.baseCode]})},Onpushwonder:function(n){e.navigateTo({url:"/pages/home/wonderfulReview/detail?id="+n.id})},Onpushactivity:function(n){if(1==this.ispreview)return!1;e.navigateTo({url:"/pages/home/activityDetail/index?id="+n.id})},OnPushGroup:function(n){if(1==this.ispreview)return!1;e.navigateTo({url:"/pages/grouppurchase/detail?id="+n.id})},Onpushchant:function(n){if(1==this.ispreview)return!1;console.log(n),e.navigateTo({url:"/pages/grouppurchase/packagedetail?id="+n.id+"&relatedType="+this.relatedType})},getheight:function(){var n=this;this.$nextTick((function(){[{name:"精选套餐",index:1},{name:"精选套餐",index:2},{name:"精选套餐",index:3},{name:"精选套餐",index:4},{name:"精选套餐",index:5}].forEach((function(t,i){var a=e.createSelectorQuery().in(n);a.select(".main"+i).boundingClientRect((function(e){1==t.index&&0!=e.height&&n.newtags.push({name:"精选套餐",scrollTop:e.top-100,index:0}),2==t.index&&0!=e.height&&n.newtags.push({name:"优惠团购",scrollTop:e.top-100,index:1}),3==t.index&&0!=e.height&&n.newtags.push({name:"活动报名",scrollTop:e.top-100,index:2}),4==t.index&&0!=e.height&&n.newtags.push({name:"达人推荐",scrollTop:e.top-100,index:3}),5==t.index&&0!=e.height&&n.newtags.push({name:"历史优惠",scrollTop:e.top-100,index:4})})).exec()}))}))},scrollTochang:function(e){if(this.isshowreturn=!(e>0),!this.isClick){var n=this.newtags.findIndex((function(n){return e<=n.scrollTop}));-1==n?n=this.newtags.length-1:0==n||(n=n),this.tabsindex=n}},goto:function(n){e.createSelectorQuery().select(n).boundingClientRect((function(n){e.createSelectorQuery().select(".u_contetns").boundingClientRect((function(t){e.pageScrollTo({duration:100,scrollTop:n.top+420-t.top})})).exec()})).exec()},Onclicktab:function(e,n){switch(console.log(n),this.isClick=!0,n){case 0:this.goto(".main0");break;case 1:this.goto(".main1");break;case 2:this.goto(".main2");break;case 3:this.goto(".main3");break;case 4:this.goto(".main4");break}this.isClick=!1,this.tabsindex=n,console.log(this.tabsindex)},openmap:function(){e.openLocation({latitude:this.dataList.lat,longitude:this.dataList.lng,success:function(){}})},telphone:function(){e.makePhoneCall({phoneNumber:this.dataList.baseMobile})},getlist:function(){var n=this;this.$showLoading(),this.$newrequest.post("coc-active/api/v1/activityShop/merchantHomepage",{shopId:this.shopId}).then((function(t){if(200==t.code){if(t.data.merchantDisplayVOS.length>0&&n.tags.push({name:"精选套餐",index:1}),t.data.groupDisplayVOS.length>0&&n.tags.push({name:"优惠团购",index:2}),t.data.activityDisplayVOS.length>0&&n.tags.push({name:"活动报名",index:3}),n.tags.push({name:"达人推荐",index:5},{name:"主页",index:4}),n.dataList=t.data,t.data.carouselUrl){var i=[];t.data.carouselUrl.forEach((function(e){1==e.shopCarouselType?i.push({url:e.carouselUrl,type:"image"}):i.unshift({url:e.carouselUrl,type:"video"})})),n.imgList=i}}else e.showToast({title:t.message,icon:"none",duration:2e3})})).finally((function(){n.isShowpage=!0,n.$hideLoading()}))}}};n.default=i}).call(this,t("543d")["default"])},"88f5":function(e,n,t){"use strict";t.r(n);var i=t("4c93"),a=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},aab0:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}));var i={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"6d3c"))},uRate:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-rate/u-rate")]).then(t.bind(null,"439d"))},uDivider:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(t.bind(null,"944a"))}},a=function(){var e=this,n=e.$createElement,t=(e._self._c,e.isShowpage?e.dataList.merchantDisplayVOS.length:null),i=e.isShowpage?e.dataList.groupDisplayVOS.length:null,a=e.isShowpage?e.dataList.activityDisplayVOS.length:null,o=e.isShowpage?e.dataList.marvellousVOS.length:null,s=e.isShowpage?e.dataList.expireMerchantDisplayVOS.length||e.dataList.expireGroupDisplayVOS.length||e.dataList.expireActivityDisplayVOS.length:null;e.$mp.data=Object.assign({},{$root:{g0:t,g1:i,g2:a,g3:o,g4:s}})},o=[]},d814:function(e,n,t){"use strict";t.r(n);var i=t("aab0"),a=t("88f5");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("44c1");var s=t("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"40629560",null,!1,i["a"],void 0);n["default"]=c.exports},e394:function(e,n,t){"use strict";(function(e,n){var i=t("4ea4");t("76b1");i(t("66fd"));var a=i(t("d814"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(a.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])}},[["e394","common/runtime","common/vendor"]]]);