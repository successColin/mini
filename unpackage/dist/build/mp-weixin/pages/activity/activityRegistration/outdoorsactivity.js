(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/activityRegistration/outdoorsactivity"],{"56ab":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("04ff"),n={components:{search:function(){i.e("components/search/index").then(function(){return resolve(i("7546"))}.bind(null,i)).catch(i.oe)},pushclosedactivity:function(){i.e("pages/activity/components/pushclosedactivity").then(function(){return resolve(i("e3a8"))}.bind(null,i)).catch(i.oe)}},props:{fromType:Number},data:function(){return{showTabs:!1,statusList:[],currentTabId:null,isLoadMore:!1,current:1,dataList:[],keyword:"",status:!0}},onLoad:function(t){this.getStatus(!0)},onShow:function(){},methods:{getStatus:function(t){this.status=t,this.currentTabId=null,this.statusList=[],t?this.getTabList():this.getMoreTabList(),this.tosearch()},getValue:function(t){this.keyword=t,this.tosearch()},getTabList:function(){var t=this;this.$request.post("/coc-active/api/v2/homePage/shopCategoryList",{type:2,parentId:18}).then((function(e){e.data=e.data.map((function(t){return{name:t.shopCategoryName,id:t.shopCategoryId}})),e.data.length&&e.data.unshift({name:"推荐",id:null}),t.statusList=e.data}))},getMoreTabList:function(){var t=this;this.$request.post("/coc-active/api/v2/homePage/shopCategoryList",{parentId:18}).then((function(e){e.data=e.data.map((function(t){return{name:t.shopCategoryName,id:t.shopCategoryId}})),e.data.length&&e.data.unshift({name:"推荐",id:null}),t.statusList=e.data}))},lookMoreTab:function(){this.showTabs=!0},closetabs:function(){this.showTabs=!1},OnClickStatus:function(t){this.currentTabId=t.id,this.showTabs=!1,this.tosearch()},tosearch:function(){this.isLoadMore=!1,this.current=1,this.dataList=[],this.status?this.getactivity():this.getmoreactivity()},OnPush:function(e){t.navigateTo({url:"/pages/activityMall/business/index?id="+e.shopId})},Onremind:function(e,i){(0,a.tologin)();var n=this;if(1==e.isRemind)return!1;t.requestSubscribeMessage({tmplIds:["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"],success:function(a){var s=this;"accept"==a["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"]&&n.$request.get("/coc-active/api/v1/activity/signUpStartRemind/"+e.activityId).then((function(e){200==e.code?(s.dataList[i].isRemind=1,t.showToast({icon:"none",title:"提醒成功，请等待通知"})):t.showToast({icon:"none",title:e.message})}))}})},OnPushDetail:function(e){2===e.shopTypeId?t.navigateTo({url:"/pages/carShops/4Sdetail/shopActiveDetail?id="+e.activityId}):t.navigateTo({url:"/pages/home/activityDetail/index?id="+e.activityId})},getactivity:function(){var e=this;this.$newrequest.post("/coc-active/api/v2/homePage/getActivitysV2",{current:this.current,payType:0,shopTypeId:1,shopCategoryId:this.currentTabId,size:10,title:this.keyword,newUserLimit:0,property:1}).then((function(i){200==i.code?(i.data.homePageActivitysVOIPage.records.length<10&&(e.isLoadMore=!0),1===e.current?e.dataList=i.data.homePageActivitysVOIPage.records:i.data.homePageActivitysVOIPage.records.filter((function(t){e.dataList.push(t)}))):t.showToast({title:i.message,icon:"none",duration:2e3})}))},getmoreactivity:function(){var e=this;this.$newrequest.post("/coc-active/api/v2/homePage/shopList",{current:this.current,shopCategoryId:this.currentTabId,size:10,keyword:this.keyword,parentId:18}).then((function(i){200==i.code?(i.data.records.filter((function(t){t.shopActivityVO=t.shopActivityVO.slice(0,2)})),i.data.records.length<10&&(e.isLoadMore=!0),1==i.data.current?e.dataList=i.data.records:i.data.records.filter((function(t){e.dataList.push(t)}))):t.showToast({title:i.message,icon:"none",duration:2e3})}))}},onReachBottom:function(){this.isLoadMore||(this.current++,this.status?this.getactivity():this.getmoreactivity())}};e.default=n}).call(this,i("543d")["default"])},7402:function(t,e,i){"use strict";i.r(e);var a=i("c191"),n=i("fcdd");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("da99");var o=i("f0c5"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"6990f60d",null,!1,a["a"],void 0);e["default"]=c.exports},"8a80":function(t,e,i){},b7cb:function(t,e,i){"use strict";(function(t,e){var a=i("4ea4");i("76b1");a(i("66fd"));var n=a(i("7402"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(n.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},c191:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"0f14"))},uAvatar:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(i.bind(null,"d838"))},uPopup:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(i.bind(null,"8add"))}},n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.statusList.length),a=t.status?t.dataList.length:null,n=t.status?null:t.dataList.length,s=!t.status&&n?t.__map(t.dataList,(function(e,i){var a=t.__get_orig(e),n=e.shopActivityVO.length;return{$orig:a,g3:n}})):null;t.$mp.data=Object.assign({},{$root:{g0:i,g1:a,g2:n,l0:s}})},s=[]},da99:function(t,e,i){"use strict";var a=i("8a80"),n=i.n(a);n.a},fcdd:function(t,e,i){"use strict";i.r(e);var a=i("56ab"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a}},[["b7cb","common/runtime","common/vendor"]]]);