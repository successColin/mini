(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/activityRegistration/foursactivity"],{5901:function(t,e,i){"use strict";i.r(e);var n=i("b058"),s=i("a951");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("d7cd");var o=i("f0c5"),r=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=r.exports},5975:function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("76b1");n(i("66fd"));var s=n(i("5901"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(s.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},"65bb":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("04ff"),s={components:{carousel:function(){Promise.all([i.e("common/vendor"),i.e("components/carousel/index")]).then(function(){return resolve(i("7662"))}.bind(null,i)).catch(i.oe)},pushclosedactivity:function(){i.e("pages/activity/components/pushclosedactivity").then(function(){return resolve(i("e3a8"))}.bind(null,i)).catch(i.oe)}},data:function(){return{placeholder:"搜索新车",statusList:[{name:"市场活动",id:2},{name:"保养特惠\t",id:1},{name:"新车鉴赏",id:0},{name:"优惠信息",id:3}],shopselect:null,shopId:0,selectbrand:[],isstatus:1,token:null,isExpert:null,activityPaymentPreferenceId:null,tagitem:null,newisshowend:!1,isshowend:!1,isshow:!0,isEnd:1,tags:[],isActivitys:!0,keyword:"",newUserLimit:0,dataList:[],tagList:[],title:"",currentnow:0,payType:0,current:1,isLoadMore:!1,brandId:0,newtags:[],visitinto:null,toptype:2,lineBg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAGCAYAAABThMdSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNEE4OTg4MjhDOEYxMUVEQkUxODkxMjU3MTBGOEZCMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNEE4OTg4MzhDOEYxMUVEQkUxODkxMjU3MTBGOEZCMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0QTg5ODgwOEM4RjExRURCRTE4OTEyNTcxMEY4RkIxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0QTg5ODgxOEM4RjExRURCRTE4OTEyNTcxMEY4RkIxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6oq/SwAAAPVJREFUeNqkUtsNwjAMjJPyBRt0I8Qf/+yB+GYe5mEQKqBtjINscbIMUkWkax52Lr6e6dr3q5TSUbATbASTYBaMgqfiLnjomZ0Pem4xyxsgNup8g3uWP+l+gjdZ54ak+wprTp/BnXxOggOQZL3QZoJkgn1VItI8BsH2WIZ7xsW6Lq7AaPCP2Ju3Ee0DEoZi2RVPLsZOCDnRFdYoKOL9VnAoIgckVkgFK+1RcydBgTNwEcTMfuStMFP6c7QHL2pjdkor/M0OckrgSglaLDv7OSjYO0VLRLWizrreCtbur7Lr8RyIK+oGtlp1Aihox+RiS53glwADAIjGYd2iTm4WAAAAAElFTkSuQmCC"}},computed:{navbarHeight:function(){return t.getStorageSync("menuInfo")?t.getStorageSync("menuInfo").contentTop:0},menuHeight:function(){return t.getStorageSync("menuInfo")?t.getStorageSync("menuInfo").menuHeight:0},menuTop:function(){return t.getStorageSync("menuInfo")?t.getStorageSync("menuInfo").menuTop-this.statusBarHeight:0}},onHide:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onUnload:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onLoad:function(e){this.token=t.getStorageSync("token"),this.isExpert=t.getStorageSync("isExpert"),2==e.isEnd&&(this.isEnd=2),e.brandindex&&(this.currentnow=Number(e.brandindex)+1),e.brandId?this.brandId=e.brandId:this.brandId=null,e.value&&(this.title=e.value,this.keyword=e.value),e.isstatus&&(this.isstatus=e.isstatus),this.getList()},onReachBottom:function(){console.log(this.toptype),this.isLoadMore||(this.current++,0==this.toptype?this.getcar():2==this.toptype?this.getList():1==this.toptype?this.getmeal():3==this.toptype&&this.getnews()),this.isshowend&&(this.newisshowend=!0),1==this.isEnd&&2==this.toptype&&(this.current++,this.getendactivity())},onPullDownRefresh:function(){this.current=1,this.brandId=0,this.getList(),setTimeout((function(){t.stopPullDownRefresh()}),1e3)},onShow:function(){var e=this;t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_into",{type:3}).then((function(t){e.visitinto=t}))},methods:{OnCarDetail:function(e,i){var n;n=i.vehicleInfoId,t.navigateTo({url:"/pages/carShops/carList/index?type="+e+"&id="+n+"&shopId="+this.id})},jumpDetail:function(e){t.navigateTo({url:"/pages/carShops/upkeep/detail?id="+e})},Onbrand:function(e){t.navigateTo({url:"/pages/carShops/upkeep/brandInfo?id="+e.id})},getnews:function(){var t=this,e="";e=0==this.shopId?null:this.shopId;var i="";i=0==this.brandId?null:this.brandId,this.$newrequest.post("coc-active/api/v1/fours/brandNews/list",{current:1,shopId:e,brandId:i,size:99,title:this.keyword}).then((function(e){e.data.records.length<20&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))}))},getmeal:function(){var t=this,e="";e=0==this.shopId?null:this.shopId;var i="";i=0==this.brandId?null:this.brandId,this.$newrequest.post("/coc-active/api/v2/homePage/four_s/lowPriceMaintenances",{shopId:e,brandId:i,size:20,current:this.current,maintainName:this.keyword}).then((function(e){e.data.records.length<20&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))}))},getcar:function(){var t=this,e="";e=0==this.shopId?null:this.shopId;var i="";i=0==this.brandId?null:this.brandId,this.$newrequest.post("/coc-active/api/v2/homePage/four_s/carModelList",{current:this.current,vehicleName:this.keyword,priceMin:0,priceMax:99999999,shopId:e,brandId:i,size:20}).then((function(e){e.data.records.length<20&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))}))},OnClickStatus:function(t){this.toptype=t.id,this.isLoadMore=!1,this.keyword="",this.title="",this.current=1,0==t.id?(this.getcar(),this.placeholder="搜索新车"):2==t.id?(this.placeholder="搜索市场活动",this.getList()):1==t.id?(this.placeholder="搜索保养特惠",this.getmeal()):3==t.id&&(this.placeholder="搜索优惠信息",this.getnews())},OnchooseShopId:function(t,e){1==this.isstatus?this.isEnd=1:this.isEnd=2,this.current=1,this.shopselect=e,this.activityPaymentPreferenceId=null,this.tagitem=null,this.shopId=t.shopId,this.isActivitys=!0,this.isLoadMore=!1,0==this.toptype?this.getcar():2==this.toptype?this.getList():1==this.toptype?this.getmeal():3==this.toptype&&this.getnews()},OngetAll:function(){1==this.isstatus?this.isEnd=1:this.isEnd=2,this.current=1,this.activityPaymentPreferenceId=null,this.tagitem=null,this.shopId=0,this.isLoadMore=!1,this.shopselect=-1,this.isActivitys=!0,0==this.toptype?this.getcar():2==this.toptype?this.getList():1==this.toptype?this.getmeal():3==this.toptype&&this.getnews()},ClickZhiDing:function(){t.pageScrollTo({scrollTop:0,duration:300})},resettingbank:function(){this.tagitem=null,this.current=1,this.activityPaymentPreferenceId=null,this.getList()},OnChangeBank:function(t){this.tagitem=t,this.current=1,this.activityPaymentPreferenceId=t,this.getList()},OnPushcreditCard:function(){t.navigateTo({url:"/pages/my/creditCard/index"})},OnPushClose:function(){this.isEnd=2,this.current=1,this.getendactivity()},OnPush:function(t,e){this.currentnow=e,this.lineBg=e>3?"":"https://oss.dcqcjlb.com/51che_java_dev/20230309/file_1678332343343.png",this.brandId=t.brandId,this.getList()},OnClickTags:function(t){var e=this;this.selectbrand=[],this.tags.filter((function(i){i.brandId==t.brandId&&i.fourSShopVO&&(e.selectbrand=i.fourSShopVO)})),console.log(this.selectbrand),1==this.selectbrand.length?(this.shopId=this.selectbrand[0].shopId,this.shopselect=0):this.selectbrand.length>1&&(this.shopId=0,this.shopselect=-1),0==this.selectbrand.length&&(this.shopId=0),this.brandId=t.brandId,0==t.brandId&&(this.selectbrand=[]),this.current=1,1==this.isstatus?this.isEnd=1:this.isEnd=2,this.activityPaymentPreferenceId=null,this.tagitem=null,0==this.toptype?this.getcar():2==this.toptype?this.getList():1==this.toptype?this.getmeal():3==this.toptype&&this.getnews()},clear:function(){this.keyword="",this.title="",this.current=1},tosearch:function(t){this.title=t,this.keyword=t,0==this.toptype?this.getcar():1==this.toptype?this.getmeal():2==this.toptype?this.getList():3==this.toptype&&this.getnews()},Onremind:function(e,i){(0,n.tologin)();var s=this;if(1==e.isRemind)return!1;t.requestSubscribeMessage({tmplIds:["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"],success:function(n){var a=this;"accept"==n["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"]&&s.$request.get("/coc-active/api/v1/activity/signUpStartRemind/"+e.activityId).then((function(e){200==e.code?(console.log(a.dataList),s.dataList[i].isRemind=1,t.showToast({icon:"none",title:"提醒成功，请等待通知"})):t.showToast({icon:"none",title:e.message})}))}})},OnPushDetail:function(e){console.log(e),t.navigateTo({url:"/pages/home/activityDetail/index?id="+e.activityId})},getendactivity:function(){var t=this;this.$newrequest.post("/coc-active/api/v2/homePage/getActivitysV2",{current:this.current,payType:this.payType,shopTypeId:2,isEnd:this.isEnd,size:20,title:this.title,newUserLimit:this.newUserLimit,brandId:this.brandId,activityPaymentPreferenceId:this.activityPaymentPreferenceId,shopId:this.shopId}).then((function(e){e.data.homePageActivitysVOIPage.records.filter((function(e){t.dataList.push(e)}))}))},getList:function(){var t=this;this.$newrequest.post("/coc-active/api/v2/homePage/getActivitysV2",{current:this.current,payType:this.payType,shopTypeId:2,isEnd:this.isEnd,size:20,shopId:this.shopId,title:this.title,newUserLimit:this.newUserLimit,brandId:this.brandId,activityPaymentPreferenceId:this.activityPaymentPreferenceId}).then((function(e){0==e.data.homePageActivitysVOIPage.total?t.isActivitys=!1:t.isActivitys=!0,null==t.brandId&&(t.tags=e.data.activityCategories,t.tags.unshift({brandId:0,brandName:"全部",brandCarLogo:""}),t.newtags=t.tags),t.isLoadMore=!0,e.data.homePageActivitysVOIPage.records.length<3&&1==t.current&&1==t.isEnd?(t.newisshowend=!0,t.isshowend=!0,t.isLoadMore=!0):e.data.homePageActivitysVOIPage.records.length<20&&1==t.isEnd?(t.isshowend=!0,t.isLoadMore=!0):e.data.homePageActivitysVOIPage.records.length<20?t.isLoadMore=!0:20==e.data.homePageActivitysVOIPage.records.length&&(t.isLoadMore=!1),1===t.current?t.dataList=e.data.homePageActivitysVOIPage.records:e.data.homePageActivitysVOIPage.records.filter((function(e){t.dataList.push(e)}))}))}}};e.default=s}).call(this,i("543d")["default"])},"88b9":function(t,e,i){},a951:function(t,e,i){"use strict";i.r(e);var n=i("65bb"),s=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},b058:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uSearch:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-search/u-search")]).then(i.bind(null,"ab09e"))},uTabs:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(i.bind(null,"db9b"))},uAvatar:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(i.bind(null,"d838"))},uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"0f14"))}},s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.selectbrand.length),n=i>0?t.selectbrand.length:null,s=3==t.toptype?t.dataList.length:null,a=3!=t.toptype||s>0?null:t.dataList.length,o=1==t.toptype?t.dataList.length:null,r=1!=t.toptype||o>0?null:t.dataList.length,c=0==t.toptype?t.dataList.length:null;t.$mp.data=Object.assign({},{$root:{g0:i,g1:n,g2:s,g3:a,g4:o,g5:r,g6:c}})},a=[]},d7cd:function(t,e,i){"use strict";var n=i("88b9"),s=i.n(n);s.a}},[["5975","common/runtime","common/vendor"]]]);