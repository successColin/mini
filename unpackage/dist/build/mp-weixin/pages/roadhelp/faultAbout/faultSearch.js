require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/roadhelp/faultAbout/faultSearch"],{"00df":function(t,n,e){"use strict";e.r(n);var i=e("cee1"),o=e("b775");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("fe44");var c=e("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"55e1887a",null,!1,i["a"],void 0);n["default"]=r.exports},1122:function(t,n,e){},7706:function(t,n,e){"use strict";(function(t){var i=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("2eee")),a=i(e("448a")),c=i(e("c973")),r=e("0ba9"),u=i(e("e072")),s={components:{carousel:function(){Promise.all([e.e("common/vendor"),e.e("components/carousel/index")]).then(function(){return resolve(e("7662"))}.bind(null,e)).catch(e.oe)},fixedInput:function(){e.e("components/search/fixedInput").then(function(){return resolve(e("20a5"))}.bind(null,e)).catch(e.oe)},ConsultPeople:function(){Promise.all([e.e("common/vendor"),e.e("components/ConsultPeople/index")]).then(function(){return resolve(e("7249"))}.bind(null,e)).catch(e.oe)},ProvinceArea:function(){e.e("components/ProvinceArea/index").then(function(){return resolve(e("d863"))}.bind(null,e)).catch(e.oe)}},mixins:[u.default],data:function(){return{brandList:[],brand:{},shopList:[],showLoading:!0,keycode:"",leftList:[],rightList:[],consultArr:[],technicianList:[],isShow:!1,cityObj:{},columns:[],columnData:[],indicator:!0}},onLoad:function(t){this.loginWYYXFun(!0)},beforeDestroy:function(){return(0,c.default)(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("销毁了"),t.next=3,getApp().globalData.nim.destroy();case 3:case"end":return t.stop()}}),t)})))()},computed:{sessionsNum:function(){var t=0;return this.sessionsArr.forEach((function(n){t+=n.unread})),t}},onShow:function(){},onReachBottom:function(){},methods:{loginWYYXFun:function(t){var n=this;this.showLoading=!0;try{(0,r.loginWYYX)().then((function(){n.initWYYX(),t&&n.init(),n.showLoading=!1}))}catch(e){this.init(),this.showLoading=!1}},init:function(){this.getProvince(),this.getCategoryList()},handleMessage:function(){return(0,c.default)(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,getApp().globalData.nim.destroy();case 2:t.navigateTo({url:"/pages/roadhelp/faultAbout/consultationList"});case 3:case"end":return n.stop()}}),n)})))()},getProvince:function(){var t=this;return(0,c.default)(o.default.mark((function n(){var e,i,a,c;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.columns=[],t.columnData=[],n.next=4,t.$request.get("/coc-active/api/v1/technician/province/list");case 4:if(e=n.sent,"[]"!==JSON.stringify(e.data)){n.next=7;break}return n.abrupt("return");case 7:return i=e.data.filter((function(t){return t.adCode})),t.columns.push(i),n.next=11,t.$request.get("/coc-active/api/v1/technician/city/list/".concat(e.data[0].adCode));case 11:a=n.sent,c=a.data,t.cityObj=c[0],t.columns.push(c),t.columnData.push(c),console.log(22222222222,t.cityObj,c),t.getBrand();case 18:case"end":return n.stop()}}),n)})))()},handleProvinceArea:function(t){this.cityObj=t[1],console.log(0xca1c249de38e,this.cityObj),this.getBrand()},handleSelectLocal:function(){this.isShow=!0},handleClickItem:function(n){t.navigateTo({url:"/pages/roadhelp/faultAbout/faultClassify?id=".concat(n.id)})},getCategoryList:function(){var t=this;this.$newrequest.post("/coc-active/api/v1/fault/category/list").then((function(n){var e=n.data.data;console.log(e),t.leftList=e,t.rightList=e[0].questions;var i=(0,a.default)(e.slice(0,Math.ceil(e.length/2)));t.consultArr.push(i,(0,a.default)(e.slice(Math.ceil(e.length/2))));var o=58*i.length+10*(i.length-1)+23+25;o<380&&(t.indicator=!1),console.log(o)}))},handleBlur:function(){console.log("jinlaile",this.keycode),this.getList()},pushtrue:function(n){t.navigateTo({url:"/pages/activity/foursvideo/index?id="+n+"&type=2"})},toJiuyuan:function(){t.navigateTo({url:"/pages/roadhelp/index"})},toWenti:function(){t.navigateTo({url:"/pages/roadhelp/faultAbout/faultClassify"})},getBrand:function(){var t=this;return(0,c.default)(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$request.post("/coc-active/api/v1/technician/brand/list",{cityCode:t.cityObj.adCode}).then((function(n){console.log(n),t.brandList=n.data,t.brandList.unshift({brandName:"全部"}),t.brand=n.data[0],t.getList()}));case 2:case"end":return n.stop()}}),n)})))()},setBrand:function(n,e){console.log(e),t.pageScrollTo({scrollTop:0}),this.brand=n,this.getList()},getList:function(){var t=this;return(0,c.default)(o.default.mark((function n(){var e;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e={cityCode:t.cityObj.adCode,name:t.keycode,brandId:t.brand.brandId},n.next=3,t.$newrequest.post("/coc-active/api/v1/technician/list",e).then((function(n){t.technicianList=n.data||[]}));case 3:case"end":return n.stop()}}),n)})))()},getLocation:function(n,e){t.openLocation({latitude:e,longitude:n,success:function(){}})},getMobile:function(n){t.makePhoneCall({phoneNumber:n})},checkShop:function(n){var e={};this.brand.fourSShopVO.forEach((function(t){t.shopId===n.shopId&&(e=t)})),e.baseMobile?t.navigateTo({url:"/pages/roadhelp/faultAbout/faultForm?shop="+JSON.stringify(e)}):t.showToast({title:"该4S店没有售后电话,请换一家",icon:"none",duration:2e3})}}};n.default=s}).call(this,e("543d")["default"])},a816:function(t,n,e){"use strict";(function(t,n){var i=e("4ea4");e("76b1");i(e("66fd"));var o=i(e("00df"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},b775:function(t,n,e){"use strict";e.r(n);var i=e("7706"),o=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},cee1:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var i={uSticky:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-sticky/u-sticky")]).then(e.bind(null,"af95"))},uScrollList:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-scroll-list/u-scroll-list")]).then(e.bind(null,"3afe"))},uLoadingPage:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(e.bind(null,"e325"))}},o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.consultArr,(function(n,e){var i=t.__get_orig(n),o=t.__map(n,(function(e,i){var o=t.__get_orig(e),a=i===n.length-1&&"scroll-list__line__item--no-margin-right";return{$orig:o,g0:a}}));return{$orig:i,l0:o}}))),i=t.technicianList.length,o=i?t.__map(t.technicianList,(function(n,e){var i=t.__get_orig(n),o=t.technicianList.length,a=t.technicianList.length;return{$orig:i,g2:o,g3:a}})):null;t.$mp.data=Object.assign({},{$root:{a0:{width:"700rpx","margin-top":"20rpx"},l1:e,g1:i,l2:o}})},a=[]},fe44:function(t,n,e){"use strict";var i=e("1122"),o=e.n(i);o.a}},[["a816","common/runtime","common/vendor","pages/roadhelp/common/vendor"]]]);