(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/roadhelp/index/index"],{"4d6d":function(e,t,n){"use strict";n.r(t);var o=n("79c1"),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a},"79c1":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=o(n("9523")),r=o(n("93fe9")),u=(i={components:{},data:function(){return{shownocar:!1,isflatbed:!1,floornum:1,istrailer:!1,showtext:!1,index:0,user:{},address:"",traileraddress:"请选择拖车目的地",lat:"",lng:"",trailerlat:"",trailerlng:"",basementtype:1,carlist:{},nextdata:{},ordernum:0}},onShow:function(){},onLoad:function(){var t=this;this.getordernum(),this.getList(),this.qqmapsdk=new r.default({key:"BH7BZ-PEPCX-SNA47-TZBJA-SKIFV-GVFSW"}),e.getLocation({type:"wgs84",success:function(e){t.qqmapsdk.reverseGeocoder({location:{latitude:e.latitude,longitude:e.longitude},fail:function(e){},complete:function(e){e.status||(t.address=e.result.address,t.lng=e.result.location.lng,t.lat=e.result.location.lat)}})},fail:function(e){}})}},(0,s.default)(i,"onShow",(function(){})),(0,s.default)(i,"methods",{getordernum:function(){var e=this;this.$request.post("/coc-active/api/v1/road/rescue/workingOrderNum").then((function(t){e.ordernum=t.data}))},OntoorderList:function(){e.navigateTo({url:"/pages/roadhelp/51help/helpOrder"})},Onpay:function(){this.shownocar=!1;var t=this;e.navigateTo({url:"/pages/roadhelp/index/payindex?roadVip="+this.user.roadVip,success:function(e){e.eventChannel.emit("getList",{data:t.nextdata})}})},OnAddcar:function(){this.shownocar=!1,e.navigateTo({url:"/pages/my/mycar/index"})},OnNext:function(){var t=this,n={rescue_start:this.address,gps_x:this.lat,gps_y:this.lng};0==this.index?n.rescue_project=[{options:2}]:1==this.index?n.rescue_project=[{options:3}]:2==this.index?n.rescue_project=[{options:6}]:3==this.index?(n.rescue_dest=this.traileraddress,n.des_gps_x=this.trailerlat,n.des_gps_y=this.trailerlng,this.istrailer?(n.rescue_project=[{options:4}],n.rescue_project.push({options:5,floor_pos:this.basementtype-1,floor_number:this.floornum})):n.rescue_project=[{options:4}]):4==this.index&&(this.isflatbed?(n.rescue_project=[{options:4}],n.rescue_project.push({options:5,floor_pos:this.basementtype-1,floor_number:this.floornum}),n.rescue_dest=this.traileraddress,n.des_gps_x=this.trailerlat,n.des_gps_y=this.trailerlng):n.rescue_project=[{options:5,floor_pos:this.basementtype-1,floor_number:this.floornum}]),this.$request.post("/coc-active/api/v1/road/rescue/calculatePrice",n).then((function(n){200==n.code?2==n.data.road_vip&&0==n.data.user_car.length?(t.nextdata=n.data,t.shownocar=!0):e.navigateTo({url:"/pages/roadhelp/index/payindex?roadVip="+t.user.roadVip,success:function(e){e.eventChannel.emit("getList",{data:n.data})}}):e.$u.toast(n.message)}))},telcall:function(){e.makePhoneCall({phoneNumber:"4008010111"})},Onchoosebasementtype:function(e){this.basementtype=e},choosetraileraddress:function(){var t=this;e.chooseLocation({success:function(e){t.trailerlat=e.latitude,t.trailerlng=e.longitude,t.traileraddress=e.name}})},Openpop:function(){this.showtext=!0},chooseaddress:function(){var t=this;e.chooseLocation({success:function(e){console.log(e),t.lat=e.latitude,t.lng=e.longitude,t.address=e.name}})},OnClickTag:function(e){this.index=e},getList:function(){var e=this;this.$request.get("/coc-my/api/v1/my/findUser").then((function(t){e.user=t.data.user}))}}),i);t.default=u}).call(this,n("543d")["default"])},"80f7":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var o={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"f23e"))},uSwitch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-switch/u-switch")]).then(n.bind(null,"fd83"))},uNumberBox:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-number-box/u-number-box")]).then(n.bind(null,"0356"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"076f"))},uBadge:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-badge/u-badge")]).then(n.bind(null,"a081"))},uModal:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(n.bind(null,"3d02"))}},i=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.showtext=!1})},s=[]},8699:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("4319");o(n("66fd"));var i=o(n("b012"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},b012:function(e,t,n){"use strict";n.r(t);var o=n("80f7"),i=n("4d6d");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("ba7c");var r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=u.exports},ba7c:function(e,t,n){"use strict";var o=n("c28b"),i=n.n(o);i.a},c28b:function(e,t,n){}},[["8699","common/runtime","common/vendor"]]]);