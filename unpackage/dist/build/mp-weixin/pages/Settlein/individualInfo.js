(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Settlein/individualInfo"],{"4aa1":function(e,a,t){"use strict";var n=t("a564"),i=t.n(n);i.a},"52b5":function(e,a,t){"use strict";(function(e,a){var n=t("4ea4");t("4319");n(t("66fd"));var i=n(t("ba3c"));e.__webpack_require_UNI_MP_PLUGIN__=t,a(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"7ca7":function(e,a,t){"use strict";t.r(a);var n=t("b8bd"),i=t.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(o);a["default"]=i.a},a564:function(e,a,t){},b8bd:function(e,a,t){"use strict";(function(e){var n=t("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(t("9523")),o={components:{},data:function(){var a;return{mccdata:[[{label:"就餐场所和餐馆",value:"5812"},{label:"住宿服务（旅馆、酒店、汽车旅馆、度假村等）",value:"7011"},{label:"会员俱乐部、乡村俱乐部及私人会所",value:"7997"}],[{label:"汽车经销商－新旧车的销售服务维修零件及出租",value:"5511"}],[{label:"大型景区售票",value:"4733"},{label:"大型仓储式家庭用品卖场",value:"5200"},{label:"加油站、服务站",value:"5541"}],[{label:"慈善和社会公益服务组织",value:"8398"}],[{label:"旅游相关服务直销",value:"5962"},{label:"广告服务",value:"7311"},{label:"管理、咨询和公共关系服务",value:"7392"},{label:"电影院",value:"7832"},{label:"百货商店",value:"5311"},{label:"汽车和家庭用品店",value:"5531"}],[{label:"保险销售、保险业和保险金",value:"6300"}]],currentmcc:0,mcctype:["一类","二类","三类","四类","五类","六类"],allareacode:"",showBankareaCode:!1,showareaCode:!1,areaCode:"",areacity:"",showtime:!1,rules:{bankNo:{type:"string",required:!0,message:"请搜索开户行",trigger:["blur","change"]},legalEmail:{type:"string",required:!0,message:"请填写经营者邮箱",trigger:["blur","change"]},legalmanHomeAddr:{type:"string",required:!0,message:"请填写法人家庭地址",trigger:["blur","change"]},legalIdcardNo:{required:!0,len:18,message:"请填写18位身份证号",trigger:["blur","change"]},legalCardDeadline:{type:"string",required:!0,message:"请填写法人证件到期日期",trigger:["blur","change"]},legalMobile:[{required:!0,message:"请输入经营者手机号",trigger:["change","blur"]},{validator:function(a,t,n){return e.$u.test.mobile(t)},message:"手机号码不正确",trigger:["change","blur"]}],cardid:{type:"string",required:!0,message:"请填写身份证",trigger:["blur","change"]},legalName:{type:"string",required:!0,message:"请填写经营者姓名",trigger:["blur","change"]},shopName:{type:"string",required:!0,message:"请填写入驻商家名称",trigger:["blur","change"]},bankAcctNo:{required:!0,min:10,max:22,message:"请填写10-22位开户账号名称",trigger:["blur","change"]},bankAcctName:{type:"string",required:!0,message:"请填写开户名称",trigger:["blur","change"]},areatext:{type:"string",required:!0,message:"请选择省市区",trigger:["blur","change"]},shopAddrExt:{type:"string",required:!0,message:"请输入公司或营业门店地址",trigger:["blur","change"]},shopLic:{type:"string",required:!0,message:"请输入统一信用代码",trigger:["blur","change"]},bankName:{type:"string",required:!0,message:"请选择开户行",trigger:["blur","change"]}},mccshow:!1,today:"",isshow:!0,dataList:(a={companyAddrExt:"",companyCertExpire:"9999-12-31",areacity:"",shopTypeId:"",regMerType:"00",shopName:"",legalName:"",legalMobile:"",legalIdcardNo:"",legalCardDeadline:"",legalmanHomeAddr:"",legalEmail:"",bankNo:""},(0,i.default)(a,"bankNo",""),(0,i.default)(a,"bankName",""),(0,i.default)(a,"bankAcctType","1"),(0,i.default)(a,"bankAcctNo",""),(0,i.default)(a,"bankAcctName",""),(0,i.default)(a,"shopProvinceId",""),(0,i.default)(a,"shopCityId",""),(0,i.default)(a,"shopCountryId",""),(0,i.default)(a,"areatext",""),(0,i.default)(a,"shopAddrExt",""),(0,i.default)(a,"shopLic",""),(0,i.default)(a,"shareHolderType","1"),(0,i.default)(a,"bnfType","1"),(0,i.default)(a,"bnfList",[{bnfName:"",bnfCertno:"",bnfCertExpire:"",bnfCertType:"1",bnfHomeAddr:""}]),(0,i.default)(a,"picList",[]),a),columnsBank:[],areacode:[],columnData:[],areaData:[],areaquData:[],popbank:!1,bankList:[],chooseBank:null,isopen:!1,isareaopen:!1,popbankBranchName:"",popcode:"",showagreement:!1,timeData:{},isfinish:!1,agree:!1,checkboxValue1:[]}},onLoad:function(a){this.today=(new Date).valueOf();var t=this,n=this.getOpenerEventChannel();n.on("getinfo",(function(a){e.$u.sleep(0).then((function(){t.dataList=a.data,t.dataList.areacity="请先选择开户行所在地"}))})),1==a.isshow&&(this.isshow=!1,e.setNavigationBarTitle({title:"个体工商户经营者及主行业信息查看"}),this.getList())},onShow:function(){},onReady:function(){this.$refs.form.setRules(this.rules)},methods:{getList:function(){var e=this;this.$request.post("/coc-active/api/v1/merchantsettledin/dataEcho",{echoType:"2"}).then((function(a){e.dataList.shopName=a.data.messageConfirmations.shopName,e.dataList.legalName=a.data.messageConfirmations.juridicalRealName,e.dataList.legalMobile=a.data.messageConfirmations.juridicalPersonMobile,e.dataList.legalEmail=a.data.messageConfirmations.juridicalEmail,e.dataList.legalIdcardNo=a.data.messageConfirmations.juridicalIdCard,e.dataList.legalCardDeadline=a.data.messageConfirmations.juridicalCardDeadline,e.dataList.legalmanHomeAddr=a.data.messageConfirmations.juridicalAddress,e.dataList.areatext=a.data.messageConfirmations.areatext,e.dataList.shopAddrExt=a.data.messageConfirmations.shopAddress,e.dataList.shopLic=a.data.messageConfirmations.uniformSocialCreditCode,e.dataList.bankName=a.data.messageConfirmations.bankOpening,e.dataList.bankAcctNo=a.data.messageConfirmations.accountOpening,e.dataList.bankAcctName=a.data.messageConfirmations.nameOpening}))},Onqianshu:function(){if(!this.isfinish)return!1;this.showagreement=!1,this.agree=!0},Onfinish:function(){this.isfinish=!0},onChange:function(e){this.timeData=e},OnPushCooperation:function(){this.isfinish||this.$refs.countDown.start(),this.showagreement=!0},OnChangecheckboxValue1:function(a){1==a.length&&(e.$u.toast("请点击《商家合作协议》签署协议"),this.showagreement=!0,this.$refs.countDown.start())},OnTrueBank:function(){this.dataList.bankName=this.popbankBranchName,this.dataList.bankNo=this.popcode,this.popbank=!1},OnChoose:function(e,a){this.chooseBank=a,this.popcode=e.code,this.popbankBranchName=e.bankBranchName},seachBankList:function(){var e=this;this.$request.post("/coc-active/api/v1/merchantsettledin/subBranchQuery",{areaCode:this.areaCode,key:this.dataList.bankName}).then((function(a){e.bankList=a.data.branchBankList}))},seachBank:function(){this.dataList.bankName?(this.popbank=!0,this.seachBankList()):(this.bankList=[],this.popbank=!0)},confirmareaCode:function(e){this.dataList.shopProvinceId=e.value[0].value,this.dataList.shopCityId=e.value[1].value,this.dataList.shopCountryId=e.value[2].value,this.dataList.areatext=e.value[0].label+e.value[1].label+e.value[2].label,this.showareaCode=!1},confirmBankareaCode:function(e){2==e.value.length?(this.dataList.areacity=e.value[1].label,this.areaCode=e.value[1].value):(this.dataList.areacity=e.value[0].label,this.areaCode=e.value[0].value),this.showBankareaCode=!1},changeAreaCode:function(a){var t=this;this.areaData=[];var n=a.columnIndex,i=a.value,o=(a.values,a.index,a.picker),u=void 0===o?this.$refs.uPicker:o;0===n&&this.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"2",adCode:i[0].value}).then((function(a){a.data.filter((function(e,a){t.areaData.push({label:e.name,value:e.adCode})})),e.$u.sleep(0).then((function(){0===n&&u.setColumnValues(1,t.areaData),t.areaquData=[],t.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"3",adCode:t.areaData[0].value}).then((function(a){a.data.filter((function(e,a){t.areaquData.push({label:e.name,value:e.adCode})})),e.$u.sleep(0).then((function(){u.setColumnValues(2,t.areaquData)}))}))}))})),1===n&&(this.areaquData=[],this.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"3",adCode:i[1].value}).then((function(a){a.data.filter((function(e,a){t.areaquData.push({label:e.name,value:e.adCode})})),e.$u.sleep(30).then((function(){1===n&&u.setColumnValues(2,t.areaquData)}))})))},changeBankAreaCode:function(a){var t=this;this.columnData=[];var n=a.columnIndex,i=a.value,o=(a.values,a.index,a.picker),u=void 0===o?this.$refs.uPicker1:o;0===n&&this.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"2",adCode:i[0].value}).then((function(a){a.data.filter((function(e,a){t.columnData.push({label:e.name,value:e.adCode})})),e.$u.sleep(30).then((function(){0===n&&u.setColumnValues(1,t.columnData)}))}))},OnAreaCode:function(){var e=this;this.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"1"}).then((function(a){e.isareaopen||(a.data.filter((function(a,t){0!=t&&e.areacode.push({label:a.name,value:a.adCode})})),e.areacode=[e.areacode],e.areacode.push([{label:"市辖区",value:"1101"}]),e.areacode.push([{label:"东城区 ",value:"110101"},{label:"西城区",value:"110102"},{label:"朝阳区",value:"110105"},{label:"丰台区",value:"110106"},{label:"石景山区",value:"110107"},{label:"海淀区",value:"110108"},{label:"门头沟区",value:"110109"},{label:"房山区 ",value:"110111"},{label:"通州区",value:"110112"},{label:"顺义区",value:"110113"},{label:"昌平区",value:"110114"},{label:"大兴区",value:"110115"},{label:"怀柔区",value:"110116"},{label:"平谷区",value:"110117"},{label:"密云区",value:"110118"},{label:"延庆区",value:"110119"}]),e.isareaopen=!0),e.showareaCode=!0}))},OnBankAreaCode:function(){var e=this;this.$request.post("/coc-active/api/v1/merchantsettledin/getAreaCode",{level:"1"}).then((function(a){e.isopen||(a.data.filter((function(a,t){0!=t&&e.columnsBank.push({label:a.name,value:a.adCode})})),e.columnsBank=[e.columnsBank],e.columnsBank.push([{label:"市辖区",value:"11"}]),e.isopen=!0),e.showBankareaCode=!0}))},Ontimedate:function(e){var a=e.value,t=new Date(a),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();t.getHours(),t.getHours(),t.getMinutes(),t.getMinutes();this.dataList.legalCardDeadline=t.getFullYear()+"-"+n+"-"+i,this.showtime=!1},OnSubmit:function(){var a=this;return 0==this.checkboxValue1.length?(e.$u.toast("请确认阅读并同意商家合作协议"),!1):this.agree?this.dataList.areacity?(this.dataList.bankOpeningAddress=this.dataList.areacity,void this.$refs.form.validate().then((function(t){e.navigateTo({url:"/pages/Settlein/uploadindividualOpening",success:function(e){e.eventChannel.emit("getinfo",{data:a.dataList})}})})).catch((function(a){e.$u.toast("请补全信息")}))):(e.$u.toast("请选择开户行所在地"),!1):(this.$refs.uToast.show({type:"default",message:"请签署商家合作协议",complete:function(){a.showagreement=!0,a.$refs.countDown.start()}}),!1)}}};a.default=o}).call(this,t("543d")["default"])},ba3c:function(e,a,t){"use strict";t.r(a);var n=t("f327"),i=t("7ca7");for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(a,e,(function(){return i[e]}))}(o);t("4aa1");var u=t("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);a["default"]=s.exports},f327:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"c",(function(){return o})),t.d(a,"a",(function(){return n}));var n={"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"4b8f"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"4019"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"e709"))},uSearch:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-search/u-search")]).then(t.bind(null,"ea79"))},uCheckboxGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(t.bind(null,"b691"))},uCheckbox:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-checkbox/u-checkbox")]).then(t.bind(null,"234e"))},uDatetimePicker:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(t.bind(null,"159f"))},uPicker:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(t.bind(null,"3f29"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"076f"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"f23e"))},uCountDown:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-count-down/u-count-down")]).then(t.bind(null,"e517"))},uToast:function(){return t.e("uni_modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"4bf8"))}},i=function(){var e=this,a=e.$createElement;e._self._c;e._isMounted||(e.e0=function(a){e.showtime=!0},e.e1=function(a){e.showtime=!1},e.e2=function(a){e.showBankareaCode=!1},e.e3=function(a){e.showareaCode=!1},e.e4=function(a){e.popbank=!1},e.e5=function(a){e.mccshow=!1},e.e6=function(a,t){var n=arguments[arguments.length-1].currentTarget.dataset,i=n.eventParams||n["event-params"];t=i.index;e.currentmcc=t},e.e7=function(a){e.showagreement=!1})},o=[]}},[["52b5","common/runtime","common/vendor"]]]);