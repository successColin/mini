(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/carShops/carList/newcar"],{3217:function(e,t,o){},"49f1":function(e,t,o){"use strict";o.r(t);var n=o("8650"),i=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"4bd8":function(e,t,o){"use strict";o.r(t);var n=o("a5cb"),i=o("49f1");for(var s in i)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(s);o("f1d5");var u=o("f0c5"),a=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=a.exports},8650:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("04ff"),i={components:{floorprice:function(){o.e("pages/carShops/4Sdetail/components/floorprice").then(function(){return resolve(o("22d1"))}.bind(null,o)).catch(o.oe)}},data:function(){return{currentindex:0,showfloorprice:!1,radiovalue1:"",checkboxValue1:[],checkboxValue2:[],rules:{customerMobile:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{validator:function(t,o,n){return e.$u.test.mobile(o)},message:"手机号码不正确",trigger:["change","blur"]}],customerName:{type:"string",required:!0,message:"请填写姓名",trigger:["blur","change"]}},form:{customerName:"",customerMobile:""},salesConsultantId:"",showmanger:!1,safeHeight:0,showcartype:!1,cartype:0,popcartype:0,showtestdrive:!1,showcontact:!1,codeurl:""}},props:{dataList:{type:Object},shopId:{type:String},isback:{type:Boolean,default:!1}},onLoad:function(){},created:function(){this.salesConsultantId=this.dataList.salesConsultantListVOS[0].id},onShow:function(){},onReady:function(){var t=this;e.createSelectorQuery().in(this).select(".safe-bottom-height").boundingClientRect((function(e){t.safeHeight=null===e||void 0===e?void 0:e.height})).exec()},methods:{closepop:function(){this.showcartype=!1},topay:function(t){var o=this;e.requestPayment({provider:"wxpay",timeStamp:t.data.payment.miniPayRequest.timeStamp,nonceStr:t.data.payment.miniPayRequest.nonceStr,package:t.data.payment.miniPayRequest.package,signType:t.data.payment.miniPayRequest.signType,paySign:t.data.payment.miniPayRequest.paySign,appid:t.data.payment.miniPayRequest.appId,success:function(t){console.log("qian"),e.showToast({icon:"success",title:"支付成功",complete:function(){setTimeout((function(){e.$u.toast("支付成功")}),1e3)}})},fail:function(e){o.$request.post("/coc-active/api/v1/deposit/order/cancel",{id:t.data.orderId})}})},Onpayment:function(){var t=this;!0===(0,n.tologin)()&&this.$request.post("/coc-active/api/v1/deposit/order/payment",{payType:2,subOpenId:e.getStorageSync("openid"),vehicleInfoCxId:this.dataList.newVehicleInfoCXDetailVOS[this.cartype].id}).then((function(o){200==o.code?t.topay(o):e.$u.toast(o.message)}))},Onchoosepeople:function(e,t){this.currentindex=t,this.salesConsultantId=e.id},Onshowmanger:function(){!0===(0,n.tologin)()&&(this.showmanger=!0)},OnpreviewImage:function(){e.previewImage({urls:this.codeurl,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){},fail:function(e){console.log(e.errMsg)}}})},OnPushHome:function(){this.isback||e.navigateTo({url:"/pages/carShops/4Sdetail/index?id="+this.dataList.shopId})},OnPushSame:function(){e.navigateTo({url:"/pages/carShops/carList/sameused?shopId="+this.shopId+"&vehicleId="+this.dataList.vehicleId})},OnClosefloorprice:function(){this.showfloorprice=!1},Onshowfloorprice:function(){var e=this;!0===(0,n.tologin)()&&(this.showfloorprice=!0,setTimeout((function(){e.$refs.Son.setrule()}),200))},OnTell:function(t){0==this.dataList.isBind&&this.$request.post("/coc-active/api/v1/four_s/sales_consultant/bind",{id:t.id}).then((function(t){200==t.code?e.$emit("update"):e.$u.toast(t.message)})),this.$request.post("/coc-active/api/v1/four_s/save_data",{type:3,vehicleInfoCxId:this.dataList.newVehicleInfoCXDetailVOS[this.cartype].id,shopId:this.shopId}),this.showmanger=!1,e.makePhoneCall({phoneNumber:t.mobile})},OnWechat:function(t){var o=this;0==this.dataList.isBind?this.$request.put("/coc-active/api/v1/four_s/sales_consultant/bind",{id:t.id}).then((function(n){200==n.code?(e.$emit("update"),o.$request.post("/coc-active/api/v1/four_s/save_data",{type:3,vehicleInfoCxId:o.dataList.newVehicleInfoCXDetailVOS[o.cartype].id,shopId:o.shopId}),o.codeurl=t.code,o.showcontact=!0,o.showmanger=!1):e.$u.toast(n.message)})):(this.$request.post("/coc-active/api/v1/four_s/save_data",{type:3,vehicleInfoCxId:this.dataList.newVehicleInfoCXDetailVOS[this.cartype].id,shopId:this.shopId}),this.codeurl=t.code,this.showcontact=!0,this.showmanger=!1)},Onappointment:function(){var t=this;if(!this.radiovalue1)return e.$u.toast("请同意并阅读个人信息保护声明"),!1;this.$refs.uForm.validate().then((function(o){var n="",i="",s="";if(t.checkboxValue1&&t.checkboxValue1.filter((function(e,t){n=0==t?e:n+","+e})),t.checkboxValue2&&t.checkboxValue2.filter((function(e,t){i=0==t?e:i+","+e})),n&&i)s=n+","+i;else if(!n&&i)s=i;else{if(!n||i)return e.$u.toast("请选择试驾时间"),!1;s=n}t.tosave(s)})).catch((function(e){}))},tosave:function(t){var o=this;this.$request.post("/coc-active/api/v1/four_s/clues/add",{customerMobile:this.form.customerMobile,customerName:this.form.customerName,driveTime:t,shopId:this.shopId,type:2,vehicleInfoCxId:this.dataList.newVehicleInfoCXDetailVOS[this.cartype].id,salesConsultantId:this.salesConsultantId}).then((function(t){200==t.code?(o.showtestdrive=!1,e.$u.toast("操作成功")):e.$u.toast(t.message)}))},OnPushPrivacyPolicy:function(){e.navigateTo({url:"/pages/agreement/webview?url=https://h5.dcqcjlb.com/protocol/user_vehicle_consultation.html"})},Ontestdrive:function(){var e=this;!0===(0,n.tologin)()&&(this.showtestdrive=!0,(0,n.getstorage)("mobile")&&(this.form.customerMobile=(0,n.getstorage)("mobile")),setTimeout((function(){e.$refs.uForm.setRules(e.rules)}),500))},OnOnLocation:function(){var t=this;e.getLocation({type:"gcj02",success:function(o){var n=t.dataList.lat,i=t.dataList.lng;e.openLocation({latitude:n,longitude:i,success:function(){console.log("success")}})}})},OnTrueCar:function(){this.cartype=this.popcartype,this.showcartype=!1},Onshowcartype:function(){this.popcartype=this.cartype,this.showcartype=!0},OnCurrentCar:function(e){this.popcartype=e}}};t.default=i}).call(this,o("543d")["default"])},a5cb:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return n}));var n={uDivider:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(o.bind(null,"944a"))},uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"0f14"))},uAvatar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(o.bind(null,"d838"))},uParse:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-parse/u-parse")]).then(o.bind(null,"b3af"))},uPopup:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(o.bind(null,"8add"))},"u-Form":function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u--form/u--form")]).then(o.bind(null,"f093"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"ee1b"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-input/u-input")]).then(o.bind(null,"ce45"))},uCheckboxGroup:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(o.bind(null,"55a7"))},uCheckbox:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-checkbox/u-checkbox")]).then(o.bind(null,"f125"))},uRadioGroup:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(o.bind(null,"8f9f"))},uRadio:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(o.bind(null,"37f9"))}},i=function(){var e=this,t=e.$createElement,o=(e._self._c,e.dataList.salesConsultantListVOS&&e.dataList.salesConsultantListVOS.length>2);e._isMounted||(e.e0=function(t){e.showmanger=!1},e.e1=function(t){e.showtestdrive=!1},e.e2=function(t){e.showcontact=!1},e.e3=function(t){e.showfloorprice=!1}),e.$mp.data=Object.assign({},{$root:{g0:o}})},s=[]},f1d5:function(e,t,o){"use strict";var n=o("3217"),i=o.n(n);i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/carShops/carList/newcar-create-component',
    {
        'pages/carShops/carList/newcar-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("4bd8"))
        })
    },
    [['pages/carShops/carList/newcar-create-component']]
]);
