(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/carShops/motorcycletype/index"],{"31b1":function(e,i,t){"use strict";(function(e,i){var n=t("4ea4");t("4319");n(t("66fd"));var a=n(t("aed7"));e.__webpack_require_UNI_MP_PLUGIN__=t,i(a.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"38f7":function(e,i,t){},"55af":function(e,i,t){"use strict";t.d(i,"b",(function(){return a})),t.d(i,"c",(function(){return r})),t.d(i,"a",(function(){return n}));var n={uSearch:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-search/u-search")]).then(t.bind(null,"ea79"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"f23e"))},uLoadingIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(t.bind(null,"8a2a"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"076f"))}},a=function(){var e=this.$createElement,i=(this._self._c,this.dataList.length>0&&this.isReachBottom),t=0==this.dataList.length&&this.isReachBottom;this.$mp.data=Object.assign({},{$root:{g0:i,g1:t}})},r=[]},"5e9e":function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={components:{carousel:function(){Promise.all([t.e("common/vendor"),t.e("components/carousel/index")]).then(function(){return resolve(t("c969"))}.bind(null,t)).catch(t.oe)}},data:function(){return{searchVisble:!1,searchType:1,oldSearchTxt:"",searchField:{current:1,sort:1,carPriceId:"",carPriceName:"",priceMax:"",priceMin:0,brandId:"",brandName:"",energyTypeId:"",energyTypeName:"",vehicleName:"",size:10},dataList:[],loadMore:!1,isReachBottom:!1,sortList:[{id:1,name:"默认排序"},{id:2,name:"咨询量"},{id:3,name:"上新"},{id:4,name:"优惠幅度"}],carPriceList:[{id:1,name:"10万以下",min:"",max:1e5},{id:2,name:"10-15万",min:1e5,max:15e4},{id:3,name:"15-20万",min:15e4,max:2e5},{id:4,name:"20-30万",min:2e5,max:3e5},{id:5,name:"30-40万",min:3e5,max:4e5},{id:6,name:"40-50万",min:4e5,max:5e5},{id:7,name:"50万以上",min:5e5,max:""}],energyTypeList:[{id:1,name:"燃油车"},{id:2,name:"新能源"},{id:3,name:"混合动力"}],brandList:[],scrollTop:0,bannerList:[],pageHeight:0,pageTotalHeight:0}},onLoad:function(i){var t=this,n=i.type,a=i.searchId,r=i.searchName;n&&a&&(a=parseInt(a),1==n?this.searchField.sort=a:2==n?(this.searchField.carPriceId=a,this.searchField.carPriceName=r):3==n?(this.searchField.brandId=a,this.searchField.brandName=r):4==n&&(this.searchField.energyTypeId=a,this.searchField.energyTypeName=r)),i.brandId&&(this.searchField.brandId=i.brandId,this.searchField.brandName=i.brandName),e.getSystemInfo({success:function(e){t.pageHeight=e.windowHeight}}),this.getBrandList(),this.queryList()},onPageScroll:function(e){this.scrollTop=e.scrollTop},onReachBottom:function(){this.isReachBottom||this.loadMore||(this.searchField.current+=1,this.queryList())},computed:{sortName:function(){var e=this;return this.sortList.find((function(i){return i.id===e.searchField.sort})).name},isSticky:function(){return this.scrollTop<this.stickyTop},stickyTop:function(){return this.bannerList.length>0?e.upx2px(430):e.upx2px(105)}},methods:{getBrandList:function(){var i=this;this.$newrequest.post("/coc-active/api/v2/homePage/four_s/vehicleInfoBrand").then((function(t){200==t.code?i.brandList=t.data.map((function(e){return{id:e.brandId,name:e.brandName}})):e.showToast({title:t.message,icon:"none",duration:2e3})}))},openSearch:function(i){this.searchType=i,this.searchVisble=!0,this.isSticky&&this.pageTotalHeight>=this.stickyTop+this.pageHeight&&e.pageScrollTo({scrollTop:this.stickyTop,duration:0})},closeSearch:function(){this.searchType=1,this.searchVisble=!1},searchItem:function(e){1==this.searchType?this.searchField.sort=e.id:2==this.searchType?(this.searchField.carPriceId=e.id,this.searchField.carPriceName=e.id?e.name:"",this.searchField.priceMin=e.id?e.min:0,this.searchField.priceMax=e.id?e.max:""):3==this.searchType?(this.searchField.brandId=e.id,this.searchField.brandName=e.id?e.name:""):4==this.searchType&&(this.searchField.energyTypeId=e.id,this.searchField.energyTypeName=e.id?e.name:""),this.isReachBottom=!1,this.loadMore=!1,this.searchField.current=1,this.searchVisble=!1,this.queryList()},queryList:function(){var i=this;this.loadMore=!0;var t=Object.assign({},this.searchField);t.sortType=t.sort,t.energyTypeId&&(t.energyType=t.energyTypeId),delete t["sort"],delete t["carPriceId"],delete t["carPriceName"],delete t["brandName"],delete t["energyTypeId"],delete t["energyTypeName"],this.$newrequest.post("/coc-active/api/v2/homePage/four_s/carModelList",t).then((function(n){200==n.code?(1===t.current?i.dataList=n.data.records:n.data.records.forEach((function(e){i.dataList.push(e)})),n.data.records.length<t.size&&(i.isReachBottom=!0)):e.showToast({title:n.message,icon:"none",duration:2e3})})).finally((function(){i.loadMore=!1;var t=e.createSelectorQuery().in(i);t.select("#page").boundingClientRect(),t.exec((function(t){i.pageTotalHeight=t[0].height;var n=0;!i.isSticky&&t[0].height>=i.stickyTop+i.pageHeight&&(n=i.stickyTop),e.pageScrollTo({scrollTop:n,duration:0})}))}))},search:function(){this.searchField.vehicleName=this.oldSearchTxt,this.isReachBottom=!1,this.loadMore=!1,this.searchField.current=1,this.queryList()},jumpDetail:function(i){e.navigateTo({url:"/pages/carShops/carList/index?type=1&id="+i})}}};i.default=n}).call(this,t("543d")["default"])},8859:function(e,i,t){"use strict";t.r(i);var n=t("5e9e"),a=t.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(r);i["default"]=a.a},aed7:function(e,i,t){"use strict";t.r(i);var n=t("55af"),a=t("8859");for(var r in a)["default"].indexOf(r)<0&&function(e){t.d(i,e,(function(){return a[e]}))}(r);t("e499");var s=t("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"21184012",null,!1,n["a"],void 0);i["default"]=o.exports},e499:function(e,i,t){"use strict";var n=t("38f7"),a=t.n(n);a.a}},[["31b1","common/runtime","common/vendor"]]]);