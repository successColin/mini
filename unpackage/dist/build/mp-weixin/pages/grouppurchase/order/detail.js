(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/grouppurchase/order/detail"],{2659:function(t,e,i){"use strict";i.r(e);var a=i("fee3"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},d6a1:function(t,e,i){"use strict";i.r(e);var a=i("f57f"),n=i("2659");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("fbeb");var s=i("f0c5"),u=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=u.exports},ea14:function(t,e,i){"use strict";(function(t,e){var a=i("4ea4");i("76b1");a(i("66fd"));var n=a(i("d6a1"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(n.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},f57f:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uIcon:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(i.bind(null,"0f14"))},uDivider:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-divider/u-divider")]).then(i.bind(null,"944a"))}},n=function(){var t=this.$createElement;this._self._c},o=[]},fbeb:function(t,e,i){"use strict";var a=i("fe99"),n=i.n(a);n.a},fe99:function(t,e,i){},fee3:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={components:{recommend:function(){Promise.all([i.e("common/vendor"),i.e("pages/grouppurchase/components/recommend")]).then(function(){return resolve(i("5a6e"))}.bind(null,i)).catch(i.oe)}},data:function(){return{id:0,dataList:{},isshowpage:!1,istype:0}},onLoad:function(t){this.id=t.id,1==t.istype&&(this.istype=1),this.getList()},onShow:function(){},methods:{toClick:function(){t.navigateTo({url:"/pages/activity/activityRegistration/playfulperson"})},OnPushDetail:function(){0==this.dataList.type?t.navigateTo({url:"/pages/grouppurchase/detail?id="+this.dataList.groupPurchaseProductId}):t.navigateTo({url:"/pages/grouppurchase/newpeople/detail?id="+this.dataList.groupPurchaseProductId})},Ondrawback:function(){var e=this;console.log(e.id),t.navigateTo({url:"/pages/grouppurchase/order/drawbackindex?id="+this.id+"&type=1",success:function(t){t.eventChannel.emit("getinfo",{data:e.dataList})}})},wxpay:function(e){var i=this;t.requestPayment({provider:"wxpay",timeStamp:e.miniPayRequest.timeStamp,nonceStr:e.miniPayRequest.nonceStr,package:e.miniPayRequest.package,signType:e.miniPayRequest.signType,paySign:e.miniPayRequest.paySign,appid:e.miniPayRequest.appId,success:function(e){t.showToast({icon:"success",title:"支付成功",complete:function(){setTimeout((function(){i.getList()}),1e3)}})},fail:function(t){i.$request.get("/coc-active/api/v1/group_purchase/failOrder/"+i.id).then((function(t){}))}})},OnPay:function(){var e=this;this.$request.post("/coc-active/api/v1/group_purchase/groupPayment",{groupPurchaseProductId:this.dataList.groupPurchaseProductId,groupPurchaseSetMealId:this.dataList.groupPurchaseSetMealId,groupPurchaseSetMealNum:this.dataList.groupPurchaseSetMealNum,mobile:this.dataList.mobile,name:this.dataList.name,orderId:this.id,plate:this.dataList.plate,subOpenId:t.getStorageSync("openid")}).then((function(t){200==t.code?(e.id=t.data.orderId,e.wxpay(t.data.payment)):e.$refs.uToast.show({message:t.message})}))},OnCopy:function(e){t.setClipboardData({data:e,success:function(){t.showToast({title:"复制成功",icon:"none"})}})},OnPushMap:function(){t.openLocation({latitude:this.dataList.shopVO.lat,longitude:this.dataList.shopVO.lng,success:function(){console.log("success")}})},OnPushshopHome:function(){3==this.dataList.shopVO.shopTypeId?t.navigateTo({url:"/pages/activityMall/business/index?id="+this.dataList.shopVO.shopId}):2==this.dataList.shopVO.shopTypeId&&t.navigateTo({url:"/pages/carShops/4Sdetail/index?id="+this.dataList.shopVO.shopId})},getList:function(){var t=this;this.isshowpage||this.$showLoading(),this.$request.get("coc-active/api/v1/group_purchase/orderDetails/"+this.id).then((function(e){t.dataList=e.data})).catch((function(t){})).finally((function(){t.isshowpage||(t.isshowpage=!0,t.$hideLoading())}))}}};e.default=a}).call(this,i("543d")["default"])}},[["ea14","common/runtime","common/vendor"]]]);