require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/wiseman/xuanpinguangchang/index"],{1051:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2eee")),s=i(n("c973")),a={components:{carousel:function(){Promise.all([n.e("common/vendor"),n.e("components/carousel/index")]).then(function(){return resolve(n("7662"))}.bind(null,n)).catch(n.oe)},tabs:function(){n.e("pages/wiseman/darenxiaodian/components/tabs").then(function(){return resolve(n("cd14"))}.bind(null,n)).catch(n.oe)},square:function(){n.e("pages/wiseman/darenxiaodian/components/square").then(function(){return resolve(n("bc7d"))}.bind(null,n)).catch(n.oe)}},data:function(){return{detail:{intro:"该店主尚未添加简介"},noticelist:[],tablist:[{id:"",name:"全部",status:!0},{id:1,name:"福利团购",status:!1},{id:2,name:"户外畅游",status:!1},{id:3,name:"户内嗨乐",status:!1},{id:4,name:"寻味住店",status:!1},{id:5,name:"4S店活动",status:!1},{id:6,name:"保养套餐",status:!1}],show:!0,isTrim:null,showRenovation:!1,obj:{keyword:"",lockTypeV3:"",sort:1,current:1,size:50},rows:{list:[],total:0},mh:"",src:"",classifylist:[],grade:0}},onLoad:function(t){t.grade&&(this.grade=t.grade)},onShow:function(){this.queryHome()},created:function(){this.getNoticeList(),this.getGoodList()},onReachBottom:function(){this.onScrollToLower()},methods:{queryHome:function(){var e=this;this.isshowpage||this.$showLoading(),this.$newrequest.post("/coc-active/api/v1/newExpert/shop",{}).then((function(n){if(200===n.code){e.detail=n.data,e.isTrim=n.data.isTrim;var i=t.getStorageSync("isShowRenovation");0==n.data.isTrim?(e.showRenovation=!i,t.setStorageSync("isShowRenovation",!0)):(e.showRenovation=!1,t.setStorageSync("isShowRenovation",!0))}else t.showToast({title:n.message,icon:"none",duration:2e3})})).finally((function(t){e.isshowpage||(e.isshowpage=!0,e.$hideLoading())}))},getNoticeList:function(){var t=this;return(0,s.default)(o.default.mark((function e(){var n,i,s;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request.post("/coc-active/api/v1/newExpert/untruthBroadcastMessageList",{displayLocation:1});case 2:n=e.sent,i=n.data,s=[],i.forEach((function(t){s.push(t.content)})),t.noticelist=s;case 7:case"end":return e.stop()}}),e)})))()},getTabList:function(){var t=this;return(0,s.default)(o.default.mark((function e(){var n,i,s;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request.post("/coc-active/api/v1/expert/selection/library/shopCategoryList",{showType:1});case 2:n=e.sent,i=n.data,s=JSON.parse(JSON.stringify(t.tablist)),i.forEach((function(t){s.push({id:s.length+1,sid:t.shopCategoryId,name:t.shopCategoryName,status:!1})})),t.tablist=s;case 7:case"end":return e.stop()}}),e)})))()},getGoodList:function(){var t=this;return(0,s.default)(o.default.mark((function e(){var n,i,s;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.obj.isCommissionPrice=1,e.next=3,t.$request.post("/coc-active/api/v1/expert/selection/library/newList",t.obj);case 3:n=e.sent,i=n.data,s=JSON.parse(JSON.stringify(t.rows.list)),i.records.forEach((function(t){t.type_txt=1===t.type?"活":2===t.type?"保":4===t.type?"团":5===t.type?"套":"",s.push(t)})),t.rows.list=s,t.rows.total=i.total;case 9:case"end":return e.stop()}}),e)})))()},setTabList:function(t){this.tablist.forEach((function(e){JSON.stringify(t)===JSON.stringify(e)?e.status=!0:e.status=!1})),this.setTab(t.id)},setTab:function(t){delete this.obj.shopCategorySecondId,this.setObj("lockTypeV3",t)},setShopCategoryTab:function(t){delete this.obj.lockType,this.setObj("shopCategorySecondId",t)},setSort:function(t){this.setObj("sort",t)},setBlur:function(){var t=this;this.obj.lockTypeV3=0,this.tablist.forEach((function(e){t.obj.lockTypeV3===e.id?e.status=!0:e.status=!1})),this.setObj()},setObj:function(t,e){t&&(this.obj[t]=e),this.obj.current=1,this.rows={list:[],total:0},this.getGoodList()},setSelect:function(t){this.rows.list.forEach((function(e){JSON.stringify(e)===JSON.stringify(t)&&(e.isSelection=0===e.isSelection?1:0)}))},onScrollToLower:function(){this.rows.total>this.obj.current*this.obj.size&&(this.obj.current+=1,this.getGoodList())},setCarousel:function(t){0===t.length?this.mh="358":this.mh="628"},setClassify:function(t){this.obj[t.label]=t.id,this.rows.list=[],this.getGoodList()},renovationGo:function(){this.detail.backImage||(this.detail.backImage="https://oss.dcqcjlb.com/51che_java_dev/20230816/file_1692169916276.png"),this.detail.posterShareUrl||(this.detail.posterShareUrl="https://oss.dcqcjlb.com/51che_java_dev/20230831/file_1693451973736.jpg"),console.log(this.detail),t.navigateTo({url:"/pages/wiseman/darenxiaodian/renovation?info="+JSON.stringify(this.detail)})},goShop:function(){t.navigateTo({url:"/pages/wiseman/darenxiaodian/index"})},joinShop:function(){t.navigateTo({url:"/pages/roadhelp/index?iscommission=1"})}}};e.default=a}).call(this,n("543d")["default"])},"42f2":function(t,e,n){},"5be2":function(t,e,n){"use strict";n.r(e);var i=n("a4a6"),o=n("bb74");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("c1c3");var a=n("f0c5"),r=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"517098ce",null,!1,i["a"],void 0);e["default"]=r.exports},a4a6:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={uNoticeBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-notice-bar/u-notice-bar")]).then(n.bind(null,"1e2f"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"8add"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.noticelist.length);t._isMounted||(t.e0=function(e){t.showRenovation=!1}),t.$mp.data=Object.assign({},{$root:{a0:{width:"704rpx","margin-top":"15rpx"},g0:n}})},s=[]},bb74:function(t,e,n){"use strict";n.r(e);var i=n("1051"),o=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},c1c3:function(t,e,n){"use strict";var i=n("42f2"),o=n.n(i);o.a},e69a:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("76b1");i(n("66fd"));var o=i(n("5be2"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["e69a","common/runtime","common/vendor"]]]);