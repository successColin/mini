(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/integral"],{"12a6":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("04ff"),o=n("c0e2"),a={mixins:[o.shareMixin],components:{carousel:function(){Promise.all([n.e("common/vendor"),n.e("components/carousel/index")]).then(function(){return resolve(n("7662"))}.bind(null,n)).catch(n.oe)},GoodlList:function(){Promise.all([n.e("common/vendor"),n.e("components/goodList/goodList")]).then(function(){return resolve(n("4188"))}.bind(null,n)).catch(n.oe)}},data:function(){return{cardQrIco:"../../static/image/ghicon.png",cardQrcode:"https://oss.dcqcjlb.com/51che_java_dev/20230522/file_1684720939094.png",itegralNavArr:[{name:"全部",start:null,end:null}],gradNav:[],cardArr:[{ico:"../../static/image/ghicon.png",title:"工行ETC信用卡",img:"../../static/image/ghcard.png",id:"1"},{ico:"../../static/image/nhicon.png",title:"农行车主信用卡",img:"https://oss.dcqcjlb.com/51che_java_dev/20230522/file_1684719811033.png",id:"2"}],showimg:"",isshow:!1,noticeList:[],isLoadMore:!0,banner:[],bankShow:!1,score:0,proList:[],queryData:{size:10,minStore:null,maxStore:null,current:1},isReachBottom:!1,visitinto:null}},onHide:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onUnload:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onLoad:function(t){this.getbanner(),this.getTypes(2),this.getIntegral(),this.getGoodList()},onShow:function(){var e=this;t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_into",{type:9}).then((function(t){e.visitinto=t})),this.score=0,this.getData(),this.getTypes(1)},onReachBottom:function(){this.isLoadMore&&(this.queryData.current++,this.getGoodList())},methods:{getbanner:function(){var t=this;this.$newrequest.post("coc-my/banner/list",{layoutTypeId:"8",current:1,size:99}).then((function(e){t.banner=e.data.records}))},clickswiper:function(e){var n=this.banner[e].jumpUrl;if(!n)return!1;t.navigateTo({url:"/pages/home/webview?url="+n})},showQRcode:function(t){this.showimg=1==t?"https://oss.dcqcjlb.com/51che_java_dev/20221109/de11e942f15f4085be184c52c78adc1e.jpg":"https://oss.dcqcjlb.com/51che_java_dev/20221115/6abc070b042443db82cd3db9ce2fa83d.jpg",this.isshow=!0},getTypes:function(t){var e=this;this.$newrequest.post("/coc-system/api/v1/system/base_info/list",{type:t}).then((function(n){1==t?n.data.length>0?n.data.filter((function(t){e.noticeList.push(t.title)})):e.noticeList.push("暂无最新公告"):2==t&&(e.gradNav=n.data)}))},getData:function(){var t=this;this.$newrequest.get("/coc-active/api/v2/score/shop/index").then((function(e){t.bankShow=e.data.bankShow,t.score=e.data.score}))},getIntegral:function(){var t=this;this.$newrequest.get("/coc-system/api/v1/system/score_section/list").then((function(e){var n=[{name:"全部",start:null,end:null}];e.data&&e.data.length>0&&e.data.forEach((function(t){n.push({name:t.title,start:t.start,end:t.end})})),t.itegralNavArr=n}))},bindInt:function(t){var e=t.start,n=t.end,i={size:10,minStore:e,maxStore:n,current:1};this.queryData=i,this.isLoadMore=!0,this.proList=[],this.getGoodList()},getGoodList:function(){var t=this;this.isLoadMore&&(this.isLoadMore=!1,this.$newrequest.post("/coc-active/api/v2/score/shop/product/list",this.queryData).then((function(e){var n=e.data.records&&e.data.records.length>0?e.data.records:[];1==t.queryData.current?t.proList=n:n.map((function(e){t.proList.push(e)})),n.length>=t.queryData.size?t.isLoadMore=!0:t.isReachBottom=!0})))},SelectedPage:function(e){t.navigateTo({url:"/pages/integralMall/selectPage?item="+JSON.stringify(e)})},OnPushPlay:function(e){1===e&&"暂无最新公告"!=this.noticeList[0]&&t.navigateTo({url:"/pages/integralMall/noticeDetail"})},signGo:function(){!0===(0,i.tologin)()&&t.navigateTo({url:"/pages/my/integral/index"})}}};e.default=a}).call(this,n("543d")["default"])},"24cf":function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("76b1");i(n("66fd"));var o=i(n("dcdf"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"2b06":function(t,e,n){"use strict";var i=n("7548"),o=n.n(i);o.a},7548:function(t,e,n){},"9ba1":function(t,e,n){"use strict";n.r(e);var i=n("12a6"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},dcdf:function(t,e,n){"use strict";n.r(e);var i=n("e4d1"),o=n("9ba1");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("2b06");var s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"f453db9c",null,!1,i["a"],void 0);e["default"]=c.exports},e4d1:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uNoticeBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-notice-bar/u-notice-bar")]).then(n.bind(null,"1e2f"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"0f14"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"db9b"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"8add"))},uToast:function(){return n.e("uni_modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,"1b13"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.noticeList.length),i=t.proList.length>0&&t.isReachBottom,o=t.proList.length;t._isMounted||(t.e0=function(e){t.isshow=!1}),t.$mp.data=Object.assign({},{$root:{g0:n,g1:i,g2:o}})},a=[]}},[["24cf","common/runtime","common/vendor"]]]);