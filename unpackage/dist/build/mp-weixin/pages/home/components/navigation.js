(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/components/navigation"],{"169d":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var o={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"45e8"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"f23e"))}},r=function(){var e=this.$createElement;this._self._c;this.$mp.data=Object.assign({},{$root:{a0:{width:"700rpx","margin-left":"25rpx"}}})},a=[]},"587a":function(e,n,t){"use strict";t.r(n);var o=t("169d"),r=t("5b43");for(var a in r)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t("ccfa");var c=t("f0c5"),s=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,"17d25218",null,!1,o["a"],void 0);n["default"]=s.exports},"5b43":function(e,n,t){"use strict";t.r(n);var o=t("a4ec"),r=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},"64cd":function(e,n,t){},a4ec:function(e,n,t){"use strict";(function(e){var o=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("2eee")),a=o(t("c973")),c=o(t("93fe9")),s=t("7dcd"),u={components:{carousel:function(){Promise.all([t.e("common/vendor"),t.e("components/carousel/index")]).then(function(){return resolve(t("c969"))}.bind(null,t)).catch(t.oe)},uselist:function(){t.e("pages/home/components/uselist").then(function(){return resolve(t("de08"))}.bind(null,t)).catch(t.oe)}},data:function(){return{obj:{index:0,background:"",cityname:"无法获取",customer:!0},styles:{bgColor:"transparent",color:"#FFFFFF"}}},props:{},computed:{backgroundImage:function(){var e=this.obj,n=e.index,t=e.background;return t&&t.length>0?"background-size: 100% 100%; background-image: url(".concat(t,"); transition: all ").concat(n,"s ease-in-out"):"background: transparent"},navbarHeight:function(){var n=e.getStorageSync("menuInfo")?e.getStorageSync("menuInfo").contentTop:0;return"height: ".concat(n,"px")}},created:function(){var n=this;this.getBackground(),this.getAddress(),e.$on("changebannercurrent",(function(e){n.obj.background=e.url||"",n.obj.index=2,e.url?"transparent"===n.styles.bgColor&&(n.styles.color="#FFFFFF",n.obj.customer=!0):(n.styles.color="#222222",n.obj.customer=!1)})),e.$on("homeChangeCity",(function(e){(0,s.setstorage)("lat",""),(0,s.setstorage)("lng",""),(0,s.setstorage)("city",encodeURI(e.name)),(0,s.setstorage)("cityname",e.name),n.obj.cityname=e.name})),e.$on("setNavigation",(function(e){e.scrollTop>0?(n.styles.bgColor="#FFFFFF",n.styles.color="#222222"):0===e.scrollTop&&(n.styles.bgColor="transparent",n.obj.background?(n.styles.color="#FFFFFF",n.obj.customer=!0):(n.styles.color="#222222",n.obj.customer=!1))}))},destroyed:function(){e.$off("changebannercurrent"),e.$off("homeChangeCity"),e.$off("setNavigation")},methods:{toCity:function(){e.navigateTo({url:"/pages/activity/chooseCity/chooseCity"})},toSearch:function(){e.navigateTo({url:"/pages/home/search"})},getBackground:function(){var e=this;return(0,a.default)(r.default.mark((function n(){var t,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$newrequest.post("/coc-system/api/v1/system/dictionaries/banner/list",{adPosition:"applets_wonderful_first"});case 2:t=n.sent,o=t.data,e.obj.background=o[0].backgroundUrl;case 5:case"end":return n.stop()}}),n)})))()},getAddress:function(){var e=this;return(0,a.default)(r.default.mark((function n(){var t,o,a,c,u,i,l,d,f,g,m;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=(0,s.getstorage)("cityname"),t&&(e.obj.cityname=t),n.prev=2,n.next=5,e.getLocation();case 5:return o=n.sent,a=o.longitude,c=o.latitude,n.next=10,e.reverseGeocoder(a,c);case 10:u=n.sent,i=u.status,l=u.result,d=l.location,f=d.lat,g=d.lng,m=l.address_component.city,i||((0,s.setstorage)("lat",f),(0,s.setstorage)("lng",g),(0,s.setstorage)("city",encodeURI(m)),e.obj.cityname=m.substr(0,m.length-1),(0,s.setstorage)("cityname",e.obj.cityname)),n.next=24;break;case 20:n.prev=20,n.t0=n["catch"](2),(0,s.setstorage)("lat","29.092977"),(0,s.setstorage)("lng","119.663935");case 24:case"end":return n.stop()}}),n,null,[[2,20]])})))()},getLocation:function(){return new Promise((function(n,t){e.getLocation({type:"wgs84",success:function(e){n(e)},fail:function(e){t(e)}})}))},reverseGeocoder:function(e,n){return new Promise((function(t,o){var r=new c.default({key:"BH7BZ-PEPCX-SNA47-TZBJA-SKIFV-GVFSW"});r.reverseGeocoder({location:{latitude:n,longitude:e},success:function(e){t(e)},fail:function(e){o(e)}})}))},reverseGeocode:function(e,n){return new Promise((function(t,o){var r=new plus.maps.Point(e,n);plus.maps.Map.reverseGeocode(r,{},(function(e){t(e)}),(function(e){o(e)}))}))}}};n.default=u}).call(this,t("543d")["default"])},ccfa:function(e,n,t){"use strict";var o=t("64cd"),r=t.n(o);r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/home/components/navigation-create-component',
    {
        'pages/home/components/navigation-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("587a"))
        })
    },
    [['pages/home/components/navigation-create-component']]
]);
