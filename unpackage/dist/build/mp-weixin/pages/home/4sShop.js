(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/4sShop"],{"19eb":function(t,e,n){"use strict";var i=n("af13"),o=n.n(i);o.a},"3a33":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("7dcd"),o=n("7f74"),a={mixins:[o.shareMixin],components:{carousel:function(){Promise.all([n.e("common/vendor"),n.e("components/carousel/index")]).then(function(){return resolve(n("c969"))}.bind(null,n)).catch(n.oe)},tabbar:function(){Promise.all([n.e("common/vendor"),n.e("components/tabbar/index")]).then(function(){return resolve(n("db36"))}.bind(null,n)).catch(n.oe)}},computed:{contentHeight:function(){return"calc(100vh - ".concat(this.tabbarHeight,"px)")},loadhelpBottom:function(){return"calc(".concat(this.tabbarHeight,"px + 100rpx)")}},data:function(){return{fourSShopVO:{},brandindex:0,shopindex:0,fourbrand:[],istoken:!1,activeList:[],current:1,lowKeppList:[],shopList:[],carList:[],brandId:"2",shopId:"",searchValue:"",visitinto:null,tabbarHeight:0,refresherStatus:!1,token:null,isExpert:null,brandName:"奥迪",lineBg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAGCAYAAABThMdSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNEE4OTg4MjhDOEYxMUVEQkUxODkxMjU3MTBGOEZCMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNEE4OTg4MzhDOEYxMUVEQkUxODkxMjU3MTBGOEZCMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE0QTg5ODgwOEM4RjExRURCRTE4OTEyNTcxMEY4RkIxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE0QTg5ODgxOEM4RjExRURCRTE4OTEyNTcxMEY4RkIxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+6oq/SwAAAPVJREFUeNqkUtsNwjAMjJPyBRt0I8Qf/+yB+GYe5mEQKqBtjINscbIMUkWkax52Lr6e6dr3q5TSUbATbASTYBaMgqfiLnjomZ0Pem4xyxsgNup8g3uWP+l+gjdZ54ak+wprTp/BnXxOggOQZL3QZoJkgn1VItI8BsH2WIZ7xsW6Lq7AaPCP2Ju3Ee0DEoZi2RVPLsZOCDnRFdYoKOL9VnAoIgckVkgFK+1RcydBgTNwEcTMfuStMFP6c7QHL2pjdkor/M0OckrgSglaLDv7OSjYO0VLRLWizrreCtbur7Lr8RyIK+oGtlp1Aihox+RiS53glwADAIjGYd2iTm4WAAAAAElFTkSuQmCC"}},onHide:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onUnload:function(){t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_exit",{userVisitId:this.visitinto}).then((function(t){}))},onLoad:function(){this.token=t.getStorageSync("token"),this.isExpert=t.getStorageSync("isExpert"),this.getActiveList(),this.getBrand(),this.getNewCar(),this.userId=(0,i.getstorage)("userId")},onShow:function(){var e=this;this.getNewCar(),t.getStorageSync("token")&&this.$request.post("/coc-active/api/v1/user/behavior/visit_into",{type:12}).then((function(t){e.visitinto=t}))},methods:{OnPushcar:function(){t.navigateTo({url:"/pages/home/51carOther/index"})},OnchooseShopId:function(e,n){0==e.shopId?(this.shopId=e.shopId,this.shopindex=n,this.getList()):t.navigateTo({url:"/pages/carShops/4Sdetail/index?id="+e.shopId})},OnClickTags:function(t){this.shopindex=0,this.brandindex=t.index,this.brandId=t.brandId,this.shopId=this.fourbrand[t.index].fourSShopVO[0].shopId,this.fourSShopVO=this.fourbrand[t.index].fourSShopVO,this.brandName=t.brandName,this.getList(),this.getNewCar(),this.getActiveList()},getBrand:function(){var t=this;this.$newrequest.post("/coc-active/api/v1/four_s/fourSBrand").then((function(e){e.data.filter((function(t){t.fourSShopVO.length>1&&t.fourSShopVO.unshift({baseName:"全部",shopId:"0"})})),t.fourbrand=e.data,t.shopId=e.data[0].fourSShopVO[0].shopId,t.brandId=e.data[0].brandId,t.fourSShopVO=e.data[0].fourSShopVO,t.getList()}))},OnPushcreditCard:function(){t.navigateTo({url:"/pages/my/creditCard/index"})},refresherrefresh:function(){var t=this;this.refresherStatus=!0,this.getActiveList(),this.getBrand(),this.getNewCar(),setTimeout((function(){t.refresherStatus=!1}),1e3)},OnPushfourS:function(){t.navigateTo({url:"/pages/activity/activityRegistration/foursactivity?brandId="+this.brandId+"&brandindex="+this.brandindex})},OnPushSearch:function(){t.navigateTo({url:"/pages/carShops/shop/index?searchtxt="+this.searchValue})},getActiveList:function(){var t=this;this.$newrequest.post("/coc-active/api/v2/homePage/getActivitysV2",{current:1,size:4,shopTypeId:2,brandId:this.brandId}).then((function(e){e.data.homePageActivitysVOIPage.records.filter((function(t){t.coverPicture?t.coverPicture=t.coverPicture.split(",")[0]:t.coverPicture=t.video+"?x-oss-process=video/snapshot,t_1000,m_fast"})),t.activeList=e.data.homePageActivitysVOIPage.records}))},getlowKeppList:function(){var t=this;this.$newrequest.post("coc-active/api/v2/homePage/four_s/lowPriceMaintenances",{brandId:this.brandId,current:1,size:4,sort:1}).then((function(e){t.lowKeppList=e.data.records}))},getList:function(){var t=this;this.getlowKeppList(),this.$newrequest.post("/coc-active/api/v2/homePage/four_s/nearbyShopS",{brandId:this.brandId,shopId:this.shopId}).then((function(e){t.shopList=e.data}))},getNewCar:function(){var t=this;this.$newrequest.post("/coc-active/api/v2/homePage/four_s/carModelList",{current:1,size:2,priceMax:"",priceMin:0,vehicleName:"",brandId:this.brandId,sortType:1}).then((function(e){t.carList=e.data.records}))},OnPushDetail:function(e,n){"active"==n?t.navigateTo({url:"/pages/home/activityDetail/index?id="+e.activityId}):"lowKeep"==n&&t.navigateTo({url:"/pages/carShops/upkeep/detail?id="+e.maintainMealId})},getmonthday:function(t){return t.substr(0,5)},gettime:function(t){return t.substr(6,11)},lookCarDetail:function(e){t.navigateTo({url:"/pages/carShops/carList/index?type=1&id="+e.vehicleInfoId})},jumpMotorcycleTypeList:function(e,n,i){e&&n&&i?t.navigateTo({url:"/pages/carShops/motorcycletype/index?type=".concat(e,"&searchId=").concat(n,"&searchName=").concat(i,"&brandId=")+this.brandId+"&brandName="+this.brandName}):t.navigateTo({url:"/pages/carShops/motorcycletype/index?brandId="+this.brandId+"&brandName="+this.brandName})},jumpShop:function(){t.navigateTo({url:"/pages/carShops/shop/index"})},jumpUpkeep:function(){t.navigateTo({url:"/pages/carShops/upkeep/index?brandId="+this.brandId+"&brandName="+this.brandName})},Onremind:function(e,n){(0,i.tologin)();var o=this;if(1==e.isRemind)return!1;t.requestSubscribeMessage({tmplIds:["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"],success:function(i){var a=this;"accept"==i["jdZ2r8BMJ6YmBpnrT_jXa4chRwMWEVLpjYfCUgPnD4Q"]&&o.$request.get("/coc-active/api/v1/activity/signUpStartRemind/"+e.activityId).then((function(e){200==e.code?(a.dataList[n].isRemind=1,t.showToast({icon:"none",title:"提醒成功，请等待通知"})):t.showToast({icon:"none",title:e.message})}))}})},showLocation:function(e,n){t.openLocation({latitude:n,longitude:e,success:function(){}})},clickTel:function(e){t.makePhoneCall({phoneNumber:e})},jumpDetail:function(e){t.navigateTo({url:"/pages/carShops/4Sdetail/index?id="+e})},goAbout51:function(){console.log("点击跳转"),t.navigateTo({url:"/pages/carShops/51carOther/index"})}}};e.default=a}).call(this,n("543d")["default"])},"7d59":function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("4319");i(n("66fd"));var o=i(n("8f40"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"8f40":function(t,e,n){"use strict";n.r(e);var i=n("cb6d"),o=n("b530");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("19eb");var r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},af13:function(t,e,n){},b530:function(t,e,n){"use strict";n.r(e);var i=n("3a33"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},cb6d:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"ea79"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"f510"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"f23e"))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"6d2c"))},uModal:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(n.bind(null,"3d02"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.shopList,(function(e,n){var i=t.__get_orig(e),o=e.doorheadPhotos&&e.doorheadPhotos.length>0,a=o?e.doorheadPhotos.length:null,r=o?e.doorheadPhotos.length:null;return{$orig:i,g0:o,g1:a,g2:r}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},a=[]}},[["7d59","common/runtime","common/vendor"]]]);