(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myfans/index"],{"0fd4":function(t,e,n){"use strict";n.r(e);var o=n("306b"),s=n.n(o);for(var u in o)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=s.a},"1b6e":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("76b1");o(n("66fd"));var s=o(n("baf1"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"306b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("04ff"),s={components:{},data:function(){return{value:{},showfans:!1,dataList:{},nickname:"",current:1,numcurrent:"1",isLoadMore:!1,shopUserId:"",name:"",columns:[],showinteractive:!1,mygroup:[],showgroup:!1}},onLoad:function(){this.nickname=(0,o.getstorage)("nickname"),this.getList()},onReachBottom:function(){this.isLoadMore||(this.current++,this.getList())},onShow:function(){},methods:{OnpullInGroup:function(t){var e=this,n=this;this.$request.post("/coc-social/api/v1/group/pullInGroup",{userId:this.shopUserId,groupId:t.id}).then((function(t){n.showgroup=!1,200==t.code?e.$refs.uToast.show({message:t.message,type:"success",complete:function(){}}):e.$refs.uToast.show({message:t.message,type:"default",complete:function(){n.showgroup=!1}})}))},changepicker:function(e){var n=this,o=this,s=e.value[0].type;if(1==s||2==s||3==s)this.$request.post("/coc-active/api/v1/Follow/update_follow",{userId:this.shopUserId,status:s,source:"1"}).then((function(t){200==t.code&&(n.getList(),n.showinteractive=!1)}));else if(4==s){var u={id:this.shopUserId,nickname:this.name};t.navigateTo({url:"/pages/service/message/detail?type=0",success:function(t){t.eventChannel.emit("getinfo",{data:u}),o.showinteractive=!1}})}else 5==s&&this.$request.get("/coc-social/api/v1/group/getCircleQueue").then((function(t){n.mygroup=t.data.my,n.showgroup=!0,n.showinteractive=!1}))},Oninteractive:function(t){this.shopUserId=t.userId,this.name=t.nickname,0==t.status||2==t.status||null==t.status?this.columns=[[{label:"关注",type:"1"},{label:"私信",type:"4"},{label:"屏蔽",type:"3"},{label:"拉入圈子",type:"5"}]]:this.columns=[[{label:"取关",type:"2"},{label:"私信",type:"4"},{label:"屏蔽",type:"3"},{label:"拉入圈子",type:"5"}]],this.showinteractive=!0},Onfalse:function(t){this.value=t,this.showfans=!0},Onupdatefollow:function(){var t=this;this.$request.post("/coc-active/api/v1/Follow/update_follow",{userId:this.value.userId,status:"2",source:"2"}).then((function(e){200==e.code&&(t.getList(),t.showfans=!1)}))},getList:function(){var t=this;"1"==this.numcurrent?this.$request.post("/coc-my/api/v1/my/user/follow/list",{current:this.current,size:20}).then((function(e){e.data.records.length<10&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))})):"2"==this.numcurrent?this.$request.post("/coc-my/api/v1/my/user/fans/list",{current:this.current,size:20}).then((function(e){e.data.records.length<10&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))})):this.$request.post("/coc-my/api/v1/my/user/black/list",{current:this.current,size:20}).then((function(e){e.data.records.length<10&&(t.isLoadMore=!0),1==e.data.current?t.dataList=e.data.records:e.data.records.filter((function(e){t.dataList.push(e)}))}))},Oncurrent:function(t){this.numcurrent=t,this.isLoadMore=!1,this.current=1,this.getList()}}};e.default=s}).call(this,n("543d")["default"])},6424:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var o={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"6d3c"))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"d838"))},uModal:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(n.bind(null,"ba5d"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"b61f"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"8add"))},uToast:function(){return n.e("uni_modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,"1b13"))}},s=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.showfans=!1},t.e1=function(e){t.showinteractive=!1},t.e2=function(e){t.showinteractive=!1},t.e3=function(e){t.showgroup=!1})},u=[]},"6f2b":function(t,e,n){},baf1:function(t,e,n){"use strict";n.r(e);var o=n("6424"),s=n("0fd4");for(var u in s)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(u);n("d1bd");var i=n("f0c5"),a=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=a.exports},d1bd:function(t,e,n){"use strict";var o=n("6f2b"),s=n.n(o);s.a}},[["1b6e","common/runtime","common/vendor"]]]);